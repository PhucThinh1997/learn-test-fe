(this["webpackJsonpcrm.dqc"]=this["webpackJsonpcrm.dqc"]||[]).push([[5],{229:function(e,t,n){"use strict";n(228);var a=n(227),r=n(0),c=n.n(r);t.a=function(e){return c.a.createElement(a.a,Object.assign({type:"primary",size:"small"},e))}},234:function(e,t,n){"use strict";n.d(t,"e",(function(){return a.a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var a=n(229),r=(n(228),n(227)),c=n(0),i=n.n(c);var o=function(e){return i.a.createElement(r.a,Object.assign({danger:!0,size:"small"},e))};var l=function(e){return i.a.createElement(r.a,Object.assign({type:"default",size:"small"},e))},u=n(87);n(728);n(729);var s=n(614),d=["title"];var f=function(e){var t=e.title,n=void 0===t?"":t,a=Object(u.a)(e,d);return i.a.createElement(o,Object.assign({icon:i.a.createElement(s.a,null)},a),n)},m=n(1e3),b=["title"];var p=function(e){var t=e.title,n=void 0===t?"":t,a=Object(u.a)(e,b);return i.a.createElement(l,Object.assign({icon:i.a.createElement(m.a,null)},a),n)};n(730);n(155),n(997),n(246)},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(154),r=n.n(a),c=function(e){return!Number.isNaN(e)&&e&&null!==e||(e=0),new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e).replaceAll("\u20ab","")},i=function(e){var t=e.replaceAll(".","");return Number(t)},o=function(e){var t=r()(e);return r.a.isMoment(t)?null===t||void 0===t?void 0:t.format("YYYY-MM-DD"):t}},242:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(154),r=n.n(a),c=function(e){var t=r()(e);return e&&t.isValid()?t:""},i=function(e){return e?r()(e).format("MM/DD/YYYY"):""},o=function(e){return e?r()(e).format("DD/MM/YYYY"):""},l=function(){return r()()},u=function(e){return e?new Date(e).toISOString().split("T")[0]:null}},243:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(61),r=n(244),c={idSelections:[],detailSelections:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return Object(a.a)(e,(function(e){switch(t.type){case r.b:e.idSelections=t.payload;break;case r.a:e.detailSelections=t.payload}}))}},244:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="SET_ITEM_ID_SELECTIONS",r="SET_ITEM_DETAIL_SELECTIONS"},245:function(e,t,n){"use strict";e.exports=function(e,t,n,a,r,c,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,r,c,i,o],s=0;(l=new Error(t.replace(/%s/g,(function(){return u[s++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},246:function(e,t,n){"use strict";n(277);var a=n(278),r=(n(276),n(273)),c=n(0),i=n.n(c);t.a=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(a.b,{wrap:!0},i.a.createElement(r.a,{title:null===e||void 0===e?void 0:e.tip,color:"blue",key:"blue"},e.children)))}},249:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e.map((function(e){return{value:e.id,label:e.name}}))},r=function(e){if(e){var t=JSON.parse(localStorage.getItem("userInfo")).permissions;return!!(t&&t.length>0)&&t.includes(e)}}},252:function(e,t,n){"use strict";var a=n(87),r=n(0),c=n.n(r),i=n(13),o=n.n(i),l=(n(257),["className","children"]);t.a=function(e){var t=e.className,n=e.children,r=Object(a.a)(e,l);return c.a.createElement("div",Object.assign({className:o()("section-wrapper",t)},r),n)}},255:function(e,t,n){"use strict";n(153);var a=n(91),r=(n(228),n(227)),c=(n(247),n(248)),i=(n(238),n(239)),o=(n(232),n(233)),l=n(0),u=n.n(l),s=n(732),d=n(728),f=n(997),m=n(38),b=n(234),p=n(291),v=n(243),E=function(e){return e&&e.tableView||v.b},g=n(152),j=(n(256),o.a.Search);t.a=function(e){var t=e.title,n=void 0===t?"":t,o=e.actions,l=void 0===o?"default":o,v=e.onCreate,O=e.handleDelete,S=e.labelPrimaryBtn,y=void 0===S?"":S,h=e.onPressPrimaryBtn,T=void 0===h?function(){}:h,w=e.isFilter,C=void 0!==w&&w,x=e.onFilter,P=e.isHideAction,k=void 0!==P&&P,N=e.isShowActionDelete,R=void 0===N||N,z=e.isShowActionAdd,A=void 0===z||z,_=Object(m.d)(),D=Object(m.e)(Object(p.a)(E,(function(e){return e.idSelections})));return u.a.createElement("div",{className:"header-page"},u.a.createElement(a.a,{className:"wrapper",justify:"space-around",align:"center"},u.a.createElement(c.a,{className:"header-page__title"},u.a.createElement(i.a.Title,{level:3},n)),u.a.createElement(c.a,{flex:1,style:{textAlign:"right"}},"default"===l?u.a.createElement(a.a,{style:{display:"flex",flexWrap:"nowrap",gap:"16px",justifyContent:"end"}},u.a.createElement(j,{className:"header-page__search",placeholder:"T\xecm ki\u1ebfm...",onSearch:function(e){_(Object(g.d)(e))},enterButton:!0}),C&&u.a.createElement(r.a,{type:"primary",onClick:function(){return x()},icon:u.a.createElement(s.a,null)}),!1===k&&u.a.createElement(u.a.Fragment,null,A&&u.a.createElement(r.a,{type:"primary",onClick:function(){return v()},icon:u.a.createElement(d.a,null)},"Th\xeam m\u1edbi"),!!y&&u.a.createElement(b.e,{size:"medium",icon:u.a.createElement(f.a,null),onClick:T},y),R&&u.a.createElement(b.a,{size:"medium",onClick:function(){return O&&O(D)},disabled:!D.length},"X\xf3a"))):"function"===typeof l?l():null)))}},256:function(e,t,n){},257:function(e,t,n){},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));n(295);var a=n(294),r=n(88),c=n(87),i=n(0),o=n.n(i),l=n(38),u=n(13),s=n.n(u),d=n(60),f=n(49),m=n(152),b=n(243),p=n(244);function v(e){return{type:p.b,payload:e}}function E(e){return{type:p.a,payload:e}}var g=n(261),j=n(39),O="SET_STATE",S="SET_DATA",y="SET_PAGE",h="SET_TOTAL_PAGE",T="SET_TOTAL_ELEMENT",w="SET_LOADING",C="SET_PAGESIZE",x="SET_SORT",P="SET_SEARCH_TEXT",k={data:[],currentPage:1,totalPage:1,totalElement:0,pageSize:10,loading:!1,searchText:"",sort:[{field:"",order:""}]},N=o.a.createContext({state:k,setState:function(){return null},setPage:function(){return null},setTotalPage:function(){return null},setData:function(){return null},setTotalElement:function(){return null},setLoading:function(){return null},setPageSize:function(){return null}}),R=N.Provider,z=function(e){var t=e.children,n=e.initState,a=Object(i.useReducer)((function(e,t){switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),t.payload);case S:return Object(j.a)(Object(j.a)({},e),{},{data:t.payload.data});case y:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.payload.currentPage});case h:return Object(j.a)(Object(j.a)({},e),{},{totalPage:t.payload.totalPage});case T:return Object(j.a)(Object(j.a)({},e),{},{totalElement:t.payload.totalElement});case w:return Object(j.a)(Object(j.a)({},e),{},{loading:t.payload.loading});case C:return Object(j.a)(Object(j.a)({},e),{},{pageSize:t.payload.pageSize});case P:return Object(j.a)(Object(j.a)({},e),{},{searchText:t.payload.searchText});case x:return Object(j.a)(Object(j.a)({},e),{},{sort:t.payload.sort});default:return Object(j.a)({},e)}}),Object(j.a)(Object(j.a)({},k),n)),c=Object(r.a)(a,2),l=c[0],u=c[1],s=Object(i.useCallback)((function(e){u({type:O,payload:e})}),[]),d=Object(i.useCallback)((function(e){u({type:y,payload:{currentPage:e}})}),[]),f=Object(i.useCallback)((function(e){u({type:S,payload:{data:e}})}),[]),m=Object(i.useCallback)((function(e){u({type:h,payload:{totalPage:e}})}),[]),b=Object(i.useCallback)((function(e){u({type:w,payload:{loading:e}})}),[]),p=Object(i.useCallback)((function(e){u({type:T,payload:{totalElement:e}})}),[]),v=Object(i.useCallback)((function(e){u({type:C,payload:{pageSize:e}})}),[]),E=Object(i.useCallback)((function(e){u({type:P,payload:{searchText:e}})}),[]),g=Object(i.useCallback)((function(e){u({type:x,payload:{sort:e}})}),[]);return o.a.createElement(R,{value:{state:l,setState:s,setPage:d,setTotalPage:m,setData:f,setLoading:b,setTotalElement:p,setPageSize:v,setSearchText:E,setSort:g}},t)};n(268);var A=n(236),_=["className","columns","data","expandedRowRender","handleGetDetailSelections","handleGetSelections","hasRowSelected","isHidePagination","rowKey","shouldSaveToStore","shouldShowTotal","urlEndpoint","pageSize"],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,n=function(n){return o.a.createElement(z,{initState:t},o.a.createElement(e,n))};return n}((function(e){var t=e.className,n=void 0===t?"":t,u=e.columns,p=e.data,j=e.expandedRowRender,O=e.handleGetDetailSelections,S=e.handleGetSelections,y=e.hasRowSelected,h=void 0===y||y,T=e.isHidePagination,w=e.rowKey,C=void 0===w?"id":w,x=e.shouldSaveToStore,P=void 0===x||x,k=e.shouldShowTotal,R=void 0===k||k,z=e.urlEndpoint,D=e.pageSize,F=Object(c.a)(e,_);Object(g.a)({key:"tableView",reducer:b.a});var I=Object(l.d)(),L=Object(l.e)((function(e){return e.global.searchText})),Y=Object(l.e)((function(e){return e.global.refreshGrid})),M=Object(l.e)((function(e){return e.global.filters})),G=Object(i.useState)([]),V=Object(r.a)(G,2),B=V[0],H=V[1],J=Object(i.useContext)(N),K=J.state,q=J.setState,X=J.setLoading,W=J.setData,Z=Object(i.useState)(""),Q=Object(r.a)(Z,2),U=Q[0],$=Q[1],ee=function(e){var t=[];return e.map((function(e){(null===e||void 0===e?void 0:e.field)&&t.push({fieldName:e.field,isAscending:"ascend"===e.order})})),t},te=Object(i.useCallback)((function(){if(z){X(!0);var e={pageSize:K.pageSize,pageIndex:K.currentPage-1,searchText:K.searchText,sort:ee(K.sort),fieldId:null===M||void 0===M?void 0:M.fields,filter:[]};f.c(z,e).then((function(t){if(t&&(null===t||void 0===t?void 0:t.isSuccess)){var n,a=(null===t||void 0===t?void 0:t.data)||{};q({data:null===a||void 0===a?void 0:a.records,currentPage:(null===e||void 0===e?void 0:e.pageIndex)||1,totalElement:(null===a||void 0===a?void 0:a.total)||0,loading:!1}),$(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.totalAmount)}else q({data:[],totalElement:0})})).catch((function(e){console.log("err: ",e)})).finally((function(){X(!1)}))}}),[K.pageSize,K.sort,K.searchText,z,null===M||void 0===M?void 0:M.fields]);Object(i.useEffect)((function(){te()}),[I,te]),Object(i.useEffect)((function(){console.log("filtersfilters",M)}),[M]),Object(i.useEffect)((function(){z&&q({searchText:L,currentPage:1})}),[L,q,z]),Object(i.useEffect)((function(){return Y&&(te(),I(m.c(!1))),function(){H([]),I(v([])),I(E([]))}}),[Y]),Object(i.useEffect)((function(){p&&Object(d.isArray)(p)&&W(p)}),[JSON.stringify(p)]);var ne={selectedRowKeys:B,onChange:function(e,t){H(e),S&&S(e),O&&O(t),P&&(I(v(e)),I(E(t)))}};return o.a.createElement("div",{className:s()("grid",n&&n)},o.a.createElement(a.a,Object.assign({columns:u,dataSource:K.data,onChange:function(e,t,n){q({currentPage:e.current,pageSize:e.pageSize,sort:n?[n]:[]})},bordered:!0,pagination:!T&&{defaultPageSize:D||K.pageSize,showSizeChanger:!0,pageSizeOptions:["5","10","20","50"],total:K.totalElement,showTotal:R?function(){return"C\xf3 ".concat(K.totalElement," d\u1eef li\u1ec7u")}:null},loading:K.loading,expandable:{expandedRowRender:j},rowKey:C,rowSelection:h?ne:null,scroll:{x:"100%"}},F,{summary:K.data.length>0&&F.summaryNumberCol?function(){return o.a.createElement(a.a.Summary.Row,null,u.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.a.Summary.Cell,null,t===(null===F||void 0===F?void 0:F.summaryNumberCol)?Object(A.a)(U):""))})),o.a.createElement(a.a.Summary.Cell,null))}:function(){}})))}))},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(60),r=n(245),c=n.n(r);function i(e){var t={dispatch:a.isFunction,subscribe:a.isFunction,getState:a.isFunction,replaceReducer:a.isFunction,runSaga:a.isFunction,injectedReducers:a.isObject,injectedSagas:a.isObject};c()(Object(a.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}},261:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(89),n(90),n(92),n(93);var a=n(0),r=n.n(a),c=(n(50),n(38)),i=n(245),o=n.n(i),l=n(60),u=n(260),s=n(97);function d(e,t){return function(n,a){t||Object(u.a)(e),o()(Object(l.isString)(n)&&!Object(l.isEmpty)(n)&&Object(l.isFunction)(a),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===a||(e.injectedReducers[n]=a,e.replaceReducer(Object(s.a)(e.injectedReducers)))}}function f(e){return Object(u.a)(e),{injectReducer:d(e,!0)}}var m=function(e){var t=e.key,n=e.reducer,a=r.a.useContext(c.b);r.a.useEffect((function(){f(a.store).injectReducer(t,n)}),[a.store,t,n])}},268:function(e,t,n){},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(49),r=function(){return a.c("/api/fields/dropdown","")}},320:function(e,t,n){"use strict";n(250);var a=n(251),r=(n(228),n(227)),c=(n(153),n(91)),i=(n(247),n(248)),o=(n(296),n(302)),l=(n(235),n(237)),u=n(88),s=n(0),d=n.n(s),f=n(303);t.a=function(e){var t=e.isOpen,n=e.handleClosed,m=e.title,b=e.onApplyFilter,p=l.a.useForm(),v=Object(u.a)(p,1)[0],E=Object(s.useState)([]),g=Object(u.a)(E,2),j=g[0],O=g[1],S=function(e){b(e),n()};Object(s.useEffect)((function(){y()}),[]);var y=function(){Object(f.a)().then((function(e){O((null===e||void 0===e?void 0:e.data)||[])}))};return d.a.createElement(a.a,{title:m,open:t,onCancel:n,width:500,footer:[d.a.createElement(r.a,{type:"link",form:"filterForm",key:"back",onClick:function(){v.resetFields()}},"B\u1ed9 l\u1ecdc m\u1eb7c \u0111\u1ecbnh"),d.a.createElement(r.a,{form:"filterForm",key:"submit",type:"primary",htmlType:"submit"},"L\u1ecdc")]},d.a.createElement(l.a,{id:"filterForm",labelCol:{span:14},wrapperCol:{span:23},form:v,layout:"vertical",onFinish:S},d.a.createElement(c.a,null,d.a.createElement(i.a,{span:24},d.a.createElement(c.a,null,d.a.createElement(i.a,{span:24},d.a.createElement(l.a.Item,{label:"L\u0129nh V\u1ef1c",name:"fields"},d.a.createElement(o.a,null,j&&j.map((function(e){return d.a.createElement(o.a.Option,{key:e.id,value:e.id},e.name)}))))))))))}}}]);
//# sourceMappingURL=5.7bc565d6.chunk.js.map
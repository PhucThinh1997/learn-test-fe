(this["webpackJsonpcrm.dqc"]=this["webpackJsonpcrm.dqc"]||[]).push([[20,9],{1033:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(439),i=(n(250),n(251)),l=(n(235),n(237)),o=n(88),u=n(26),s=n(142),d=n(997),m=n(234),f=n(259),b=n(255),p=n(252),v=n(38),h=(n(509),n(345)),g=n(242),E=n(262),O=(n(153),n(91)),j=(n(247),n(248)),y=(n(228),n(227)),S=n(39),N=n(236),I=n(60),T=n.n(I),D=n(339),C=n(254),w=n(338),x=n(310),A=(n(510),n(317)),k=n(336),R=n(353),q=n(354),_=n(311),M=n(271),L=n(440),P=n(249),F=n(511),V=n(275),H=function(e){var t=e.id,n=e.isOpen,c=e.onClose,l=e.form,u=e.reloadTable,s=w.object().shape({type:Object(_.b)(w),customerId:Object(_.b)(w),contactPersonId:Object(_.b)(w),requirementDate:Object(_.b)(w),plannedStartDate:Object(_.b)(w),contentRequirement:Object(_.b)(w)}),d=Object(C.e)({mode:"onChange",resolver:Object(D.a)(s)}),m=d.control,f=d.handleSubmit,b=d.setValue,p=(d.watch,d.formState.errors),v=Object(a.useState)(t?R.a.DETAIL:R.a.CREATE),g=Object(o.a)(v,2),I=g[0],T=g[1],H=Object(a.useState)([]),U=Object(o.a)(H,2),z=U[0],K=U[1],Y=Object(a.useState)([]),G=Object(o.a)(Y,2),B=G[0],W=G[1],X=Object(a.useState)([]),$=Object(o.a)(X,2),J=$[0],Q=$[1],Z=Object(a.useState)([]),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=Object(o.a)(ae,2),ce=re[0],ie=re[1],le=function(e){Object(h.b)(e).then((function(e){e.isSuccess&&(c(),u())}))},oe=function(){c()},ue=function(e){Object(L.a)(e).then((function(e){ie(e.data);var t=Object(P.b)(e.data);W(t)}))};Object(a.useEffect)((function(){se(),Object(V.e)({permissionCodes:E.a.YEU_CAU_KI_THUAT_NHAN_YEU_CAU}).then((function(e){var t=Object(P.b)(e.data);ne(t)}))}),[]);var se=function(){Object(M.d)().then((function(e){var t=Object(P.b)(e.data);K(t)}))};Object(a.useEffect)((function(){!t||I!==R.a.EDIT&&I!==R.a.DETAIL?de():(Object(k.d)(t).then((function(e){Object.keys(e.data).forEach((function(t){b(t,e.data[t])})),ue(e.data.customerId);var t=e.data.technicalRequirementTasks.map((function(e){var t;return{nameEmpMain:null===(t=e.employee)||void 0===t?void 0:t.name,empSupport:e.employeeSupporters.map((function(e){return{label:e}})),contentAssign:e.contentWork,state:e.state}}));Q(t)})),T(R.a.DETAIL))}),[t]);var de=function(){b("plannedStartDate",Object(q.a)()),b("requirementDate",Object(q.a)())};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{title:function(){var e="Chi ti\u1ebft y\xeau c\u1ea7u Kh\xe1ch h\xe0ng";return I===R.a.CREATE&&(e="T\u1ea1o y\xeau c\u1ea7u Kh\xe1ch h\xe0ng "),I===R.a.EDIT&&(e="Ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u Kh\xe1ch h\xe0ng"),e}(),open:n,form:l,width:900,onCancel:oe,className:"modal-tech",footer:null},r.a.createElement("form",{className:"form-tech",onSubmit:f((function(e){var n=Object(S.a)(Object(S.a)({},e),{},{type:Number(e.type),plannedStartDate:Object(N.c)(e.plannedStartDate),requirementDate:Object(N.c)(e.requirementDate)});t&&(n.id=t),le(n)}))},I!==R.a.CREATE&&r.a.createElement(O.a,null,r.a.createElement(j.a,{span:24,className:"btn-edit"},r.a.createElement(y.a,{type:"primary",onClick:function(){return T(I===R.a.EDIT?R.a.DETAIL:R.a.EDIT)}},I===R.a.EDIT?"Chi ti\u1ebft":"Ch\u1ec9nh s\u1eeda"))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(A.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"T\xean Kh\xe1ch h\xe0ng",control:m,name:"customerId",options:z,onChange:function(e){ue(e)},isRequired:!0,errors:p})),r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(A.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"Ng\u01b0\u1eddi li\xean h\u1ec7",control:m,name:"contactPersonId",options:B,onChange:function(e){var t=ce.find((function(t){return t.id===e}));b("customerPhone",t.phone),b("contactPersonPosition",t.position)},isRequired:!0,errors:p}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(x.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"Ng\xe0y y\xeau c\u1ea7u",control:m,type:"date",name:"requirementDate",isRequired:!0,errors:p})),r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(x.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"Ch\u1ee9c v\u1ee5",control:m,type:"text",name:"contactPersonPosition",errors:p})),r.a.createElement(j.a,{className:"col-input",span:24},r.a.createElement(x.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"\u0110\u1ecba ch\u1ec9",control:m,type:"text",name:"customerAddress",errors:p}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(A.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"Ng\u01b0\u1eddi nh\u1eadn y\xeau c\u1ea7u",control:m,name:"requestRecipientId",options:te,isRequired:!0,errors:p})),r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(A.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"Lo\u1ea1i",control:m,name:"type",isRequired:!0,options:E.e,errors:p}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(x.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"Ch\u1ecdn ng\xe0y",control:m,type:"date",name:"plannedStartDate",isRequired:!0,errors:p})),r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(x.a,{isTitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"\u0110i\u1ec7n tho\u1ea1i",control:m,type:"text",name:"customerPhone",isRequired:!0,errors:p})),r.a.createElement(j.a,{className:"col-input",span:24},r.a.createElement(x.a,{TitleInline:I===R.a.DETAIL,isShowText:I===R.a.DETAIL,label:"N\u1ed9i dung y\xeau c\u1ea7u",control:m,type:"textarea",rows:3,name:"contentRequirement",isRequired:!0,errors:p})),I===R.a.DETAIL&&r.a.createElement(j.a,{className:"col-input",span:24},r.a.createElement(F.a,{originData:J,rowKey:"id",hideButton:!0}))),r.a.createElement("div",{className:"my-modal-footer"},r.a.createElement(y.a,{key:"back",onClick:oe},"H\u1ee7y"),I!==R.a.DETAIL&&r.a.createElement(y.a,{key:"submit",type:"primary",htmlType:"submit"},"L\u01b0u")))))},U=n(152),z=n(360),K=function(e){var t=e.idRequest,n=e.isOpen,c=e.onClose,u=e.reloadTable,s=(e.technicalRequirementTasks,l.a.useForm()),d=Object(o.a)(s,1)[0],m=w.object().shape({empMainId:Object(_.b)(w),contentAssign:Object(_.b)(w)}),f=Object(C.e)({mode:"onChange",resolver:Object(D.a)(m)}),b=f.control,p=f.handleSubmit,v=f.setValue,I=f.watch,M=f.reset,L=f.formState.errors,H=Object(a.useState)(R.a.EDIT),U=Object(o.a)(H,2),K=U[0],Y=(U[1],Object(a.useState)([])),G=Object(o.a)(Y,2),B=(G[0],G[1],Object(a.useState)([])),W=Object(o.a)(B,2),X=(W[0],W[1],Object(a.useState)([])),$=Object(o.a)(X,2),J=$[0],Q=$[1],Z=Object(a.useState)([]),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=Object(o.a)(ae,2),ce=re[0],ie=re[1],le=Object(a.useState)({}),oe=Object(o.a)(le,2),ue=oe[0],se=(oe[1],Object(a.useState)(null)),de=Object(o.a)(se,2),me=de[0],fe=de[1];Object(a.useEffect)((function(){Object(k.d)(t).then((function(e){fe(e.data.id);var t=e.data.technicalRequirementTasks.map((function(e){var t;return Object(S.a)(Object(S.a)({},e),{},{nameEmpMain:null===(t=e.employee)||void 0===t?void 0:t.name,empSupport:e.employeeSupporters.map((function(e){return{label:e}})),contentAssign:e.contentWork,isDelete:!1,state:e.state,reject:e.rejectRemarks})}));t.length>0&&ie(t)}))}),[t]);var be=function(){M(),v("empMainId",""),v("empSupport",""),v("contentAssign",""),he()},pe=function(){c()};Object(a.useEffect)((function(){ve()}),[]);var ve=function(){Object(V.e)({permissionCodes:E.a.QUAN_LY_CONG_VIEC_XEM}).then((function(e){var t=Object(P.b)(e.data);Q(t)}))};Object(a.useEffect)((function(){he()}),[t]);var he=function(){v("startDate",Object(q.a)()),v("dueDate",Object(q.a)())};return Object(a.useEffect)((function(){if(0===te.length){var e=I("empMainId"),t=T.a.cloneDeep(J);e&&ne(t.filter((function(t){return t.value!=e})))}}),[te]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{title:function(){var e="Chi ti\u1ebft y\xeau c\u1ea7u Kh\xe1ch h\xe0ng";return K===R.a.CREATE&&(e="T\u1ea1o y\xeau c\u1ea7u Kh\xe1ch h\xe0ng "),K===R.a.EDIT&&(e="Ph\xe2n c\xf4ng"),e}(),open:n,form:d,width:1100,onCancel:pe,className:"modal-tech",footer:null},r.a.createElement("form",{className:"form-tech",onSubmit:p((function(e){var t=Object(S.a)(Object(S.a)({},e),{},{type:Number(e.type),startDate:Object(N.c)(e.startDate),dueDate:Object(N.c)(e.dueDate),nameEmpMain:J.find((function(t){return t.value===e.empMainId})).label,isDelete:!0,state:z.a.THEM_MOI}),n=T.a.cloneDeep(ce);n.push(t),ie(n),be()}))},r.a.createElement(O.a,null,r.a.createElement(j.a,{span:24,className:"btn-edit"},r.a.createElement(y.a,{key:"submit",type:"primary",htmlType:"submit"},"Th\xeam"))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(A.a,{isTitleInline:K===R.a.DETAIL,isShowText:K===R.a.DETAIL,label:"Ng\u01b0\u1eddi ch\u1ecbu tr\xe1ch nhi\u1ec7m ch\xednh",control:b,name:"empMainId",options:J,isRequired:!0,errors:L,onChange:function(e){ne([])}})),r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(A.a,{isMulti:!0,isTitleInline:K===R.a.DETAIL,isShowText:K===R.a.DETAIL,label:"Ng\u01b0\u1eddi h\u1ed5 tr\u1ee3",defaultValue:ue,control:b,name:"empSupport",options:te,errors:L,isDisabled:!(te.length>0)}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(x.a,{isTitleInline:K===R.a.DETAIL,isShowText:K===R.a.DETAIL,label:"Ng\xe0y th\u1ef1c hi\u1ec7n",control:b,type:"date",name:"startDate"})),r.a.createElement(j.a,{className:"col-input",span:12},r.a.createElement(x.a,{isTitleInline:K===R.a.DETAIL,isShowText:K===R.a.DETAIL,label:"Ng\xe0y k\u1ebft th\xfac",control:b,type:"date",name:"dueDate"}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"col-input",span:24},r.a.createElement(x.a,{TitleInline:K===R.a.DETAIL,isShowText:K===R.a.DETAIL,label:"N\u1ed9i dung c\xf4ng vi\u1ec7c",control:b,type:"textarea",rows:3,name:"contentAssign",isRequired:!0,errors:L}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"col-input",span:24},r.a.createElement(F.a,{originData:ce,rowKey:"id",handleChangeData:function(e){ie(e)}}))),r.a.createElement("div",{className:"my-modal-footer"},r.a.createElement(y.a,{key:"back",onClick:pe},"H\u1ee7y"),K!==R.a.DETAIL&&r.a.createElement(y.a,{disabled:ce.filter((function(e){return e.isDelete})).length<=0,type:"primary",onClick:function(){return function(){var e=ce.map((function(e){return e.isDelete?{employeeId:e.empMainId,employeeSupporterIds:e.empSupport.map((function(e){return e.value})).toString(),dueDate:e.dueDate,startDate:e.startDate,contentWork:e.contentAssign}:{id:e.id,technicalRequirementId:e.technicalRequirementId,employeeId:e.empMainId,employeeSupporterIds:e.empSupport.map((function(e){return e.value})).toString(),state:e.state,rejectRemarks:e.rejectRemarks,note:e.note,role:e.role,plannedStartDate:Object(g.a)(e.plannedStartDate),startDate:Object(g.a)(e.startDate),dueDate:Object(g.a)(e.dueDate),closedDate:Object(g.a)(e.closedDate),contentWork:e.contentAssign,completedNote:e.completedNote,completedDate:Object(g.a)(e.completedDate),technicalReportFileId:e.technicalReportFileId}})),n={technicalRequirementId:t,inputs:e};ce.filter((function(e){return!e.isDelete})).length>0&&(n.id=me),console.log(n),Object(h.a)(n).then((function(e){c(),u()}))}()}},"L\u01b0u")))))},Y=n(246),G=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],O=Object(a.useState)(!1),j=Object(o.a)(O,2),y=j[0],S=j[1],N=Object(a.useState)(!1),I=Object(o.a)(N,2),T=I[0],D=I[1],C=Object(a.useState)(""),w=Object(o.a)(C,2),x=w[0],A=w[1],k=Object(a.useState)([]),R=Object(o.a)(k,2),q=R[0],_=R[1],M=l.a.useForm(),L=Object(o.a)(M,1)[0],F=Object(v.d)(),V=[{title:"T\xean kh\xe1ch h\xe0ng",dataIndex:"customerId",render:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,t.customer.name))}},{title:"Ng\xe0y y\xeau c\u1ea7u",dataIndex:"requirementDate",render:function(e){return r.a.createElement("label",null,Object(g.b)(e))}},{title:"Ng\xe0y th\u1ef1c hi\u1ec7n",dataIndex:"plannedStartDate",render:function(e){return r.a.createElement("label",null,Object(g.b)(e))}},{title:"Ng\u01b0\u1eddi nh\u1eadn y\xeau c\u1ea7u",dataIndex:["requestRecipient","name"]},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"state",render:function(e){return r.a.createElement("label",null,null!=e?E.c[e].label:u.a)}},{title:"",dataIndex:"action",render:function(e,t){return r.a.createElement("div",{className:"wrapper-button",style:{textAlign:"center",width:"auto"}},r.a.createElement(Y.a,{tip:"Xem chi ti\u1ebft"},r.a.createElement(m.e,{icon:r.a.createElement(d.a,null),onClick:function(){return function(e){c(e.id),S(!0)}(t)}})),0===t.state&&Object(P.a)(E.a.YEU_CAU_KI_THUAT_NHAN_YEU_CAU)&&r.a.createElement(m.e,{onClick:function(){return e=t,D(!0),A(e.id),void _(e.technicalRequirementTasks);var e}},"Ph\xe2n c\xf4ng"))},width:35}],z=function(e){F(U.c(e))};return r.a.createElement(r.a.Fragment,null,Object(P.a)(E.a.YEU_CAU_KI_THUAT_XEM)&&r.a.createElement("div",null,r.a.createElement("div",{id:"tech-page"},r.a.createElement(b.a,{title:"Y\xcaU C\u1ea6U K\u0128 THU\u1eacT",actions:"default",onCreate:function(){return c(""),void S(!0)},handleDelete:function(e){i.a.confirm({title:"X\xe1c Nh\u1eadn",icon:r.a.createElement(s.a,null),content:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a d\xf2ng d\u1eef li\u1ec7u \u0111\xe3 ch\u1ecdn?",okText:"X\xe1c Nh\u1eadn",cancelText:"H\u1ee7y",onOk:function(){Object(h.c)(e).then((function(e){z(!0)}))}})},isShowActionAdd:Object(P.a)(E.a.YEU_CAU_KI_THUAT_THEM)}),r.a.createElement("div",{className:"main__application"},r.a.createElement(p.a,null,r.a.createElement(f.a,{columns:V,urlEndpoint:"".concat(h.e)}))),T&&r.a.createElement(K,{idRequest:x,isOpen:T,technicalRequirementTasks:q,reloadTable:function(){return z(!0)},form:L,onClose:function(){A(""),D(!1)}}),y&&r.a.createElement(H,{id:n,isOpen:y,reloadTable:function(){return z(!0)},form:L,onClose:function(){c(""),S(!1)}}))))};t.default=function(){return r.a.createElement("div",null,r.a.createElement(c.b,null,r.a.createElement(G,null)))}},229:function(e,t,n){"use strict";n(228);var a=n(227),r=n(0),c=n.n(r);t.a=function(e){return c.a.createElement(a.a,Object.assign({type:"primary",size:"small"},e))}},234:function(e,t,n){"use strict";n.d(t,"e",(function(){return a.a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(229),r=(n(228),n(227)),c=n(0),i=n.n(c);var l=function(e){return i.a.createElement(r.a,Object.assign({danger:!0,size:"small"},e))};var o=function(e){return i.a.createElement(r.a,Object.assign({type:"default",size:"small"},e))},u=n(87);n(728);n(729);var s=n(614),d=["title"];var m=function(e){var t=e.title,n=void 0===t?"":t,a=Object(u.a)(e,d);return i.a.createElement(l,Object.assign({icon:i.a.createElement(s.a,null)},a),n)},f=n(1e3),b=["title"];var p=function(e){var t=e.title,n=void 0===t?"":t,a=Object(u.a)(e,b);return i.a.createElement(o,Object.assign({icon:i.a.createElement(f.a,null)},a),n)};n(730);n(155),n(997),n(246)},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l}));var a=n(154),r=n.n(a),c=function(e){return!Number.isNaN(e)&&e&&null!==e||(e=0),new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e).replaceAll("\u20ab","")},i=function(e){var t=e.replaceAll(".","");return Number(t)},l=function(e){var t=r()(e);return r.a.isMoment(t)?null===t||void 0===t?void 0:t.format("YYYY-MM-DD"):t}},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(82);var r=n(102);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},242:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(154),r=n.n(a),c=function(e){var t=r()(e);return e&&t.isValid()?t:""},i=function(e){return e?r()(e).format("MM/DD/YYYY"):""},l=function(e){return e?r()(e).format("DD/MM/YYYY"):""},o=function(){return r()()},u=function(e){return e?new Date(e).toISOString().split("T")[0]:null}},243:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(61),r=n(244),c={idSelections:[],detailSelections:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return Object(a.a)(e,(function(e){switch(t.type){case r.b:e.idSelections=t.payload;break;case r.a:e.detailSelections=t.payload}}))}},244:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="SET_ITEM_ID_SELECTIONS",r="SET_ITEM_DETAIL_SELECTIONS"},245:function(e,t,n){"use strict";e.exports=function(e,t,n,a,r,c,i,l){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,r,c,i,l],s=0;(o=new Error(t.replace(/%s/g,(function(){return u[s++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},246:function(e,t,n){"use strict";n(277);var a=n(278),r=(n(276),n(273)),c=n(0),i=n.n(c);t.a=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(a.b,{wrap:!0},i.a.createElement(r.a,{title:null===e||void 0===e?void 0:e.tip,color:"blue",key:"blue"},e.children)))}},249:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e.map((function(e){return{value:e.id,label:e.name}}))},r=function(e){if(e){var t=JSON.parse(localStorage.getItem("userInfo")).permissions;return!!(t&&t.length>0)&&t.includes(e)}}},252:function(e,t,n){"use strict";var a=n(87),r=n(0),c=n.n(r),i=n(13),l=n.n(i),o=(n(257),["className","children"]);t.a=function(e){var t=e.className,n=e.children,r=Object(a.a)(e,o);return c.a.createElement("div",Object.assign({className:l()("section-wrapper",t)},r),n)}},255:function(e,t,n){"use strict";n(153);var a=n(91),r=(n(228),n(227)),c=(n(247),n(248)),i=(n(238),n(239)),l=(n(232),n(233)),o=n(0),u=n.n(o),s=n(732),d=n(728),m=n(997),f=n(38),b=n(234),p=n(291),v=n(243),h=function(e){return e&&e.tableView||v.b},g=n(152),E=(n(256),l.a.Search);t.a=function(e){var t=e.title,n=void 0===t?"":t,l=e.actions,o=void 0===l?"default":l,v=e.onCreate,O=e.handleDelete,j=e.labelPrimaryBtn,y=void 0===j?"":j,S=e.onPressPrimaryBtn,N=void 0===S?function(){}:S,I=e.isFilter,T=void 0!==I&&I,D=e.onFilter,C=e.isHideAction,w=void 0!==C&&C,x=e.isShowActionDelete,A=void 0===x||x,k=e.isShowActionAdd,R=void 0===k||k,q=Object(f.d)(),_=Object(f.e)(Object(p.a)(h,(function(e){return e.idSelections})));return u.a.createElement("div",{className:"header-page"},u.a.createElement(a.a,{className:"wrapper",justify:"space-around",align:"center"},u.a.createElement(c.a,{className:"header-page__title"},u.a.createElement(i.a.Title,{level:3},n)),u.a.createElement(c.a,{flex:1,style:{textAlign:"right"}},"default"===o?u.a.createElement(a.a,{style:{display:"flex",flexWrap:"nowrap",gap:"16px",justifyContent:"end"}},u.a.createElement(E,{className:"header-page__search",placeholder:"T\xecm ki\u1ebfm...",onSearch:function(e){q(Object(g.d)(e))},enterButton:!0}),T&&u.a.createElement(r.a,{type:"primary",onClick:function(){return D()},icon:u.a.createElement(s.a,null)}),!1===w&&u.a.createElement(u.a.Fragment,null,R&&u.a.createElement(r.a,{type:"primary",onClick:function(){return v()},icon:u.a.createElement(d.a,null)},"Th\xeam m\u1edbi"),!!y&&u.a.createElement(b.e,{size:"medium",icon:u.a.createElement(m.a,null),onClick:N},y),A&&u.a.createElement(b.a,{size:"medium",onClick:function(){return O&&O(_)},disabled:!_.length},"X\xf3a"))):"function"===typeof o?o():null)))}},256:function(e,t,n){},257:function(e,t,n){},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(295);var a=n(294),r=n(88),c=n(87),i=n(0),l=n.n(i),o=n(38),u=n(13),s=n.n(u),d=n(60),m=n(49),f=n(152),b=n(243),p=n(244);function v(e){return{type:p.b,payload:e}}function h(e){return{type:p.a,payload:e}}var g=n(261),E=n(39),O="SET_STATE",j="SET_DATA",y="SET_PAGE",S="SET_TOTAL_PAGE",N="SET_TOTAL_ELEMENT",I="SET_LOADING",T="SET_PAGESIZE",D="SET_SORT",C="SET_SEARCH_TEXT",w={data:[],currentPage:1,totalPage:1,totalElement:0,pageSize:10,loading:!1,searchText:"",sort:[{field:"",order:""}]},x=l.a.createContext({state:w,setState:function(){return null},setPage:function(){return null},setTotalPage:function(){return null},setData:function(){return null},setTotalElement:function(){return null},setLoading:function(){return null},setPageSize:function(){return null}}),A=x.Provider,k=function(e){var t=e.children,n=e.initState,a=Object(i.useReducer)((function(e,t){switch(t.type){case O:return Object(E.a)(Object(E.a)({},e),t.payload);case j:return Object(E.a)(Object(E.a)({},e),{},{data:t.payload.data});case y:return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.payload.currentPage});case S:return Object(E.a)(Object(E.a)({},e),{},{totalPage:t.payload.totalPage});case N:return Object(E.a)(Object(E.a)({},e),{},{totalElement:t.payload.totalElement});case I:return Object(E.a)(Object(E.a)({},e),{},{loading:t.payload.loading});case T:return Object(E.a)(Object(E.a)({},e),{},{pageSize:t.payload.pageSize});case C:return Object(E.a)(Object(E.a)({},e),{},{searchText:t.payload.searchText});case D:return Object(E.a)(Object(E.a)({},e),{},{sort:t.payload.sort});default:return Object(E.a)({},e)}}),Object(E.a)(Object(E.a)({},w),n)),c=Object(r.a)(a,2),o=c[0],u=c[1],s=Object(i.useCallback)((function(e){u({type:O,payload:e})}),[]),d=Object(i.useCallback)((function(e){u({type:y,payload:{currentPage:e}})}),[]),m=Object(i.useCallback)((function(e){u({type:j,payload:{data:e}})}),[]),f=Object(i.useCallback)((function(e){u({type:S,payload:{totalPage:e}})}),[]),b=Object(i.useCallback)((function(e){u({type:I,payload:{loading:e}})}),[]),p=Object(i.useCallback)((function(e){u({type:N,payload:{totalElement:e}})}),[]),v=Object(i.useCallback)((function(e){u({type:T,payload:{pageSize:e}})}),[]),h=Object(i.useCallback)((function(e){u({type:C,payload:{searchText:e}})}),[]),g=Object(i.useCallback)((function(e){u({type:D,payload:{sort:e}})}),[]);return l.a.createElement(A,{value:{state:o,setState:s,setPage:d,setTotalPage:f,setData:m,setLoading:b,setTotalElement:p,setPageSize:v,setSearchText:h,setSort:g}},t)};n(268);var R=n(236),q=["className","columns","data","expandedRowRender","handleGetDetailSelections","handleGetSelections","hasRowSelected","isHidePagination","rowKey","shouldSaveToStore","shouldShowTotal","urlEndpoint","pageSize"],_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=function(n){return l.a.createElement(k,{initState:t},l.a.createElement(e,n))};return n}((function(e){var t=e.className,n=void 0===t?"":t,u=e.columns,p=e.data,E=e.expandedRowRender,O=e.handleGetDetailSelections,j=e.handleGetSelections,y=e.hasRowSelected,S=void 0===y||y,N=e.isHidePagination,I=e.rowKey,T=void 0===I?"id":I,D=e.shouldSaveToStore,C=void 0===D||D,w=e.shouldShowTotal,A=void 0===w||w,k=e.urlEndpoint,_=e.pageSize,M=Object(c.a)(e,q);Object(g.a)({key:"tableView",reducer:b.a});var L=Object(o.d)(),P=Object(o.e)((function(e){return e.global.searchText})),F=Object(o.e)((function(e){return e.global.refreshGrid})),V=Object(o.e)((function(e){return e.global.filters})),H=Object(i.useState)([]),U=Object(r.a)(H,2),z=U[0],K=U[1],Y=Object(i.useContext)(x),G=Y.state,B=Y.setState,W=Y.setLoading,X=Y.setData,$=Object(i.useState)(""),J=Object(r.a)($,2),Q=J[0],Z=J[1],ee=function(e){var t=[];return e.map((function(e){(null===e||void 0===e?void 0:e.field)&&t.push({fieldName:e.field,isAscending:"ascend"===e.order})})),t},te=Object(i.useCallback)((function(){if(k){W(!0);var e={pageSize:G.pageSize,pageIndex:G.currentPage-1,searchText:G.searchText,sort:ee(G.sort),fieldId:null===V||void 0===V?void 0:V.fields,filter:[]};m.c(k,e).then((function(t){if(t&&(null===t||void 0===t?void 0:t.isSuccess)){var n,a=(null===t||void 0===t?void 0:t.data)||{};B({data:null===a||void 0===a?void 0:a.records,currentPage:(null===e||void 0===e?void 0:e.pageIndex)||1,totalElement:(null===a||void 0===a?void 0:a.total)||0,loading:!1}),Z(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.totalAmount)}else B({data:[],totalElement:0})})).catch((function(e){console.log("err: ",e)})).finally((function(){W(!1)}))}}),[G.pageSize,G.sort,G.searchText,k,null===V||void 0===V?void 0:V.fields]);Object(i.useEffect)((function(){te()}),[L,te]),Object(i.useEffect)((function(){console.log("filtersfilters",V)}),[V]),Object(i.useEffect)((function(){k&&B({searchText:P,currentPage:1})}),[P,B,k]),Object(i.useEffect)((function(){return F&&(te(),L(f.c(!1))),function(){K([]),L(v([])),L(h([]))}}),[F]),Object(i.useEffect)((function(){p&&Object(d.isArray)(p)&&X(p)}),[JSON.stringify(p)]);var ne={selectedRowKeys:z,onChange:function(e,t){K(e),j&&j(e),O&&O(t),C&&(L(v(e)),L(h(t)))}};return l.a.createElement("div",{className:s()("grid",n&&n)},l.a.createElement(a.a,Object.assign({columns:u,dataSource:G.data,onChange:function(e,t,n){B({currentPage:e.current,pageSize:e.pageSize,sort:n?[n]:[]})},bordered:!0,pagination:!N&&{defaultPageSize:_||G.pageSize,showSizeChanger:!0,pageSizeOptions:["5","10","20","50"],total:G.totalElement,showTotal:A?function(){return"C\xf3 ".concat(G.totalElement," d\u1eef li\u1ec7u")}:null},loading:G.loading,expandable:{expandedRowRender:E},rowKey:T,rowSelection:S?ne:null,scroll:{x:"100%"}},M,{summary:G.data.length>0&&M.summaryNumberCol?function(){return l.a.createElement(a.a.Summary.Row,null,u.map((function(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement(a.a.Summary.Cell,null,t===(null===M||void 0===M?void 0:M.summaryNumberCol)?Object(R.a)(Q):""))})),l.a.createElement(a.a.Summary.Cell,null))}:function(){}})))}))},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(60),r=n(245),c=n.n(r);function i(e){var t={dispatch:a.isFunction,subscribe:a.isFunction,getState:a.isFunction,replaceReducer:a.isFunction,runSaga:a.isFunction,injectedReducers:a.isObject,injectedSagas:a.isObject};c()(Object(a.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}},261:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(89),n(90),n(92),n(93);var a=n(0),r=n.n(a),c=(n(50),n(38)),i=n(245),l=n.n(i),o=n(60),u=n(260),s=n(97);function d(e,t){return function(n,a){t||Object(u.a)(e),l()(Object(o.isString)(n)&&!Object(o.isEmpty)(n)&&Object(o.isFunction)(a),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===a||(e.injectedReducers[n]=a,e.replaceReducer(Object(s.a)(e.injectedReducers)))}}function m(e){return Object(u.a)(e),{injectReducer:d(e,!0)}}var f=function(e){var t=e.key,n=e.reducer,a=r.a.useContext(c.b);r.a.useEffect((function(){m(a.store).injectReducer(t,n)}),[a.store,t,n])}},268:function(e,t,n){},271:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u}));var a=n(49),r="/api/customers",c=function(e){return a.c("/api/customers/"+e)},i=function(e){return a.d("/api/customers/",{id:e.id,input:e})},l=function(e){return a.d("/api/customers/",e)},o=function(e){return a.b("/api/customers/",{data:{ids:e}})},u=function(){return a.c("/api/customers/dropdown")}},275:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return s}));var a=n(49),r="/api/employees",c=function(e){return a.c("/api/employees/"+e)},i=function(){return a.c("/api/employees/dropdown/")},l=function(e){return a.c("/api/employees/by-permissions",e)},o=function(e){return a.d("/api/employees/",{id:e.id,input:e})},u=function(e){return a.d("/api/employees/",e)},s=function(e){return a.b("/api/employees/",{data:{ids:e}})}},282:function(e,t,n){},309:function(e,t,n){"use strict";n(75),n(319)},310:function(e,t,n){"use strict";n(235);var a=n(237),r=(n(300),n(299)),c=(n(238),n(239)),i=(n(232),n(233)),l=n(0),o=n(254),u=(n(282),n(60)),s=n.n(u),d=n(350),m=n(154),f=n.n(m),b=n(242),p=n(236),v=i.a.TextArea;t.a=function(e){var t=e.className,n=function(){return l.createElement(l.Fragment,null,""!==(null===e||void 0===e?void 0:e.label)&&l.createElement(c.a.Text,null,e.isRequired&&!e.isShowText&&l.createElement("span",{className:"is-required"},"* "),"".concat(e.label," :")))},u=function(n){return e.isShowText?l.createElement("p",{className:"text-mode-detail"},(a=null===n||void 0===n?void 0:n.value)?e.formatInput?Object(p.a)(a):"date"===e.type?Object(b.b)(a):a:""):e.formatInput?l.createElement(d.a,Object.assign({customInput:i.a,className:"".concat(t)},e,{prefix:e.prefix,defaultValue:n.value,thousandSeparator:".",decimalSeparator:",",value:n.value,onValueChange:function(e){n.onChange(e.value)}})):"textarea"===e.type?l.createElement(v,Object.assign({disabled:e.disabled,label:e.label,type:e.type,className:t},e,n,{defaultValue:n.value,value:n.value,onChange:function(t){n.onChange(t.target.value),void 0!==(null===e||void 0===e?void 0:e.onChange)&&e.onChange(t)}})):"date"===e.type?l.createElement(r.a,Object.assign({format:b.b,disabled:e.disabled,className:"input-custom ".concat(t),placeholder:""},e,n,{defaultValue:Object(b.e)(),value:""!==n.value?f()(n.value):Object(b.e)(),onChange:function(t,a){n.onChange(t),void 0!==(null===e||void 0===e?void 0:e.onChange)&&e.onChange(t)}})):l.createElement(i.a,Object.assign({disabled:e.disabled,label:e.label,type:e.type,className:"input-custom ".concat(t)},e,n,{defaultValue:n.value,value:n.value,onChange:function(t){n.onChange(t.target.value),void 0!==(null===e||void 0===e?void 0:e.onChange)&&e.onChange(t)}}));var a},m=function(){return l.createElement(l.Fragment,null,l.createElement(a.a.Item,{style:{width:e.isTitleInline?"calc(100% - 150px)":"100%"}},l.createElement(o.a,{id:e.id,name:e.name,defaultValue:e.defaultValue,control:e.control,render:function(e){var t=e.field;return u(t)}}),l.createElement("div",{className:"ant-form-item-explain-error"},function(){if(e.errors){var n,a,r,c=Object.keys(e.errors).includes(e.name),i=null===(n=e.errors[e.name])||void 0===n?void 0:n.message;if(t=s.a.isEmpty(i)?e.className:"".concat(e.className," is-invalid"),c)return l.createElement("span",{className:"error-message invalid-feedback"},null===(a=e.errors[e.name])||void 0===a?void 0:a.message," ",null===e||void 0===e||null===(r=e.label)||void 0===r?void 0:r.toLowerCase())}return l.createElement(l.Fragment,null)}())))};return l.createElement(l.Fragment,null,e.isTitleInline?l.createElement(l.Fragment,null,l.createElement(i.a.Group,{compact:!0},l.createElement("div",{style:{width:"150px"}},n()),m())):l.createElement(l.Fragment,null,n(),m()))}},311:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e.string().required("Vui l\xf2ng nh\u1eadp")},r=function(e){return e.string().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7").required("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}},315:function(e,t,n){"use strict";var a=n(3),r=n(6),c=n(11),i=n(9),l=n(366),o=n(1),u=n(0),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},d=n(15),m=function(e,t){return u.createElement(d.a,Object(o.a)(Object(o.a)({},e),{},{ref:t,icon:s}))};m.displayName="UpOutlined";var f=u.forwardRef(m),b=n(13),p=n.n(b),v=n(21),h=n(265),g=n(293),E=n(77),O=n(17),j=n(18);function y(){return"function"===typeof BigInt}function S(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var a=t||"0",r=a.split("."),c=r[0]||"0",i=r[1]||"0";"0"===c&&"0"===i&&(n=!1);var l=n?"-":"";return{negative:n,negativeStr:l,trimStr:a,integerStr:c,decimalStr:i,fullStr:"".concat(l).concat(a)}}function N(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function I(e){var t=String(e);if(N(e)){var n=Number(t.slice(t.indexOf("e-")+2)),a=t.match(/\.(\d+)/);return(null===a||void 0===a?void 0:a[1])&&(n+=a[1].length),n}return t.includes(".")&&D(t)?t.length-t.indexOf(".")-1:0}function T(e){var t=String(e);if(N(e)){if(e>Number.MAX_SAFE_INTEGER)return String(y()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(y()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(I(t))}return S(t).fullStr}function D(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function C(e){var t="number"===typeof e?T(e):S(e).fullStr;return t.includes(".")?S(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var w=function(){function e(t){Object(O.a)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return Object(j.a)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var r=Math.max(I(this.number),I(n));return new e(a.toFixed(r))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":T(this.number):this.origin}}]),e}(),x=function(){function e(t){if(Object(O.a)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(N(n)&&(n=Number(n)),D(n="string"===typeof n?n:T(n))){var a=S(n);this.negative=a.negative;var r=a.trimStr.split(".");this.integer=BigInt(r[0]);var c=r[1]||"0";this.decimal=BigInt(c),this.decimalLen=c.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return Object(j.a)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var a=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),r=S((this.alignDecimal(a)+n.alignDecimal(a)).toString()),c=r.negativeStr,i=r.trimStr,l="".concat(c).concat(i.padStart(a+1,"0"));return new e("".concat(l.slice(0,-a),".").concat(l.slice(-a)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":S("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function A(e){return y()?new x(e):new w(e)}function k(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var r=S(e),c=r.negativeStr,i=r.integerStr,l=r.decimalStr,o="".concat(t).concat(l),u="".concat(c).concat(i);if(n>=0){var s=Number(l[n]);if(s>=5&&!a){var d=A(e).add("".concat(c,"0.").concat("0".repeat(n)).concat(10-s));return k(d.toString(),t,n,a)}return 0===n?u:"".concat(u).concat(t).concat(l.padEnd(n,"0").slice(0,n))}return".0"===o?u:"".concat(u).concat(o)}var R=n(358);function q(e){var t=e.prefixCls,n=e.upNode,c=e.downNode,i=e.upDisabled,l=e.downDisabled,o=e.onStep,s=u.useRef(),d=u.useRef();d.current=o;var m=function(e,t){e.preventDefault(),d.current(t),s.current=setTimeout((function e(){d.current(t),s.current=setTimeout(e,200)}),600)},f=function(){clearTimeout(s.current)};if(u.useEffect((function(){return f}),[]),Object(R.a)())return null;var b="".concat(t,"-handler"),v=p()(b,"".concat(b,"-up"),Object(r.a)({},"".concat(b,"-up-disabled"),i)),h=p()(b,"".concat(b,"-down"),Object(r.a)({},"".concat(b,"-down-disabled"),l)),g={unselectable:"on",role:"button",onMouseUp:f,onMouseLeave:f};return u.createElement("div",{className:"".concat(b,"-wrap")},u.createElement("span",Object(a.a)({},g,{onMouseDown:function(e){m(e,!0)},"aria-label":"Increase Value","aria-disabled":i,className:v}),n||u.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),u.createElement("span",Object(a.a)({},g,{onMouseDown:function(e){m(e,!1)},"aria-label":"Decrease Value","aria-disabled":l,className:h}),c||u.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var _=n(19);var M=n(76),L=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],P=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},F=function(e){var t=A(e);return t.isInvalidate()?null:t},V=u.forwardRef((function(e,t){var n,l=e.prefixCls,o=void 0===l?"rc-input-number":l,s=e.className,d=e.style,m=e.min,f=e.max,b=e.step,O=void 0===b?1:b,j=e.defaultValue,y=e.value,S=e.disabled,N=e.readOnly,w=e.upHandler,x=e.downHandler,R=e.keyboard,V=e.controls,H=void 0===V||V,U=e.stringMode,z=e.parser,K=e.formatter,Y=e.precision,G=e.decimalSeparator,B=e.onChange,W=e.onInput,X=e.onPressEnter,$=e.onStep,J=Object(v.a)(e,L),Q="".concat(o,"-input"),Z=u.useRef(null),ee=u.useState(!1),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],re=u.useRef(!1),ce=u.useRef(!1),ie=u.useRef(!1),le=u.useState((function(){return A(null!==y&&void 0!==y?y:j)})),oe=Object(i.a)(le,2),ue=oe[0],se=oe[1];var de=u.useCallback((function(e,t){if(!t)return Y>=0?Y:Math.max(I(e),I(O))}),[Y,O]),me=u.useCallback((function(e){var t=String(e);if(z)return z(t);var n=t;return G&&(n=n.replace(G,".")),n.replace(/[^\w.-]+/g,"")}),[z,G]),fe=u.useRef(""),be=u.useCallback((function(e,t){if(K)return K(e,{userTyping:t,input:String(fe.current)});var n="number"===typeof e?T(e):e;if(!t){var a=de(n,t);if(D(n)&&(G||a>=0))n=k(n,G||".",a)}return n}),[K,de,G]),pe=u.useState((function(){var e=null!==j&&void 0!==j?j:y;return ue.isInvalidate()&&["string","number"].includes(Object(c.a)(e))?Number.isNaN(e)?"":e:be(ue.toString(),!1)})),ve=Object(i.a)(pe,2),he=ve[0],ge=ve[1];function Ee(e,t){ge(be(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}fe.current=he;var Oe=u.useMemo((function(){return F(f)}),[f,Y]),je=u.useMemo((function(){return F(m)}),[m,Y]),ye=u.useMemo((function(){return!(!Oe||!ue||ue.isInvalidate())&&Oe.lessEquals(ue)}),[Oe,ue]),Se=u.useMemo((function(){return!(!je||!ue||ue.isInvalidate())&&ue.lessEquals(je)}),[je,ue]),Ne=function(e,t){var n=Object(u.useRef)(null);return[function(){try{var t=e.selectionStart,a=e.selectionEnd,r=e.value,c=r.substring(0,t),i=r.substring(a);n.current={start:t,end:a,value:r,beforeTxt:c,afterTxt:i}}catch(l){}},function(){if(e&&n.current&&t)try{var a=e.value,r=n.current,c=r.beforeTxt,i=r.afterTxt,l=r.start,o=a.length;if(a.endsWith(i))o=a.length-n.current.afterTxt.length;else if(a.startsWith(c))o=c.length;else{var u=c[l-1],s=a.indexOf(u,l-1);-1!==s&&(o=s+1)}e.setSelectionRange(o,o)}catch(d){Object(_.a)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(d.message))}}]}(Z.current,ne),Ie=Object(i.a)(Ne,2),Te=Ie[0],De=Ie[1],Ce=function(e){return Oe&&!e.lessEquals(Oe)?Oe:je&&!je.lessEquals(e)?je:null},we=function(e){return!Ce(e)},xe=function(e,t){var n,a=e,r=we(a)||a.isEmpty();if(a.isEmpty()||t||(a=Ce(a)||a,r=!0),!N&&!S&&r){var c=a.toString(),i=de(c,t);return i>=0&&(a=A(k(c,".",i)),we(a)||(a=A(k(c,".",i,!0)))),a.equals(ue)||(n=a,void 0===y&&se(n),null===B||void 0===B||B(a.isEmpty()?null:P(U,a)),void 0===y&&Ee(a,t)),a}return ue},Ae=function(){var e=Object(u.useRef)(0),t=function(){M.a.cancel(e.current)};return Object(u.useEffect)((function(){return t}),[]),function(n){t(),e.current=Object(M.a)((function(){n()}))}}(),ke=function e(t){if(Te(),ge(t),!ce.current){var n=A(me(t));n.isNaN()||xe(n,!0)}null===W||void 0===W||W(t),Ae((function(){var n=t;z||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)}))},Re=function(e){var t;if(!(e&&ye||!e&&Se)){re.current=!1;var n=A(ie.current?C(O):O);e||(n=n.negate());var a=(ue||A(0)).add(n.toString()),r=xe(a,!1);null===$||void 0===$||$(P(U,r),{offset:ie.current?C(O):O,type:e?"up":"down"}),null===(t=Z.current)||void 0===t||t.focus()}},qe=function(e){var t=A(me(he)),n=t;n=t.isNaN()?ue:xe(t,e),void 0!==y?Ee(ue,!1):n.isNaN()||Ee(n,!1)};return Object(g.b)((function(){ue.isInvalidate()||Ee(ue,!1)}),[Y]),Object(g.b)((function(){var e=A(y);se(e);var t=A(me(he));e.equals(t)&&re.current&&!K||Ee(e,re.current)}),[y]),Object(g.b)((function(){K&&De()}),[he]),u.createElement("div",{className:p()(o,s,(n={},Object(r.a)(n,"".concat(o,"-focused"),ne),Object(r.a)(n,"".concat(o,"-disabled"),S),Object(r.a)(n,"".concat(o,"-readonly"),N),Object(r.a)(n,"".concat(o,"-not-a-number"),ue.isNaN()),Object(r.a)(n,"".concat(o,"-out-of-range"),!ue.isInvalidate()&&!we(ue)),n)),style:d,onFocus:function(){ae(!0)},onBlur:function(){qe(!1),ae(!1),re.current=!1},onKeyDown:function(e){var t=e.which,n=e.shiftKey;re.current=!0,ie.current=!!n,t===h.a.ENTER&&(ce.current||(re.current=!1),qe(!1),null===X||void 0===X||X(e)),!1!==R&&!ce.current&&[h.a.UP,h.a.DOWN].includes(t)&&(Re(h.a.UP===t),e.preventDefault())},onKeyUp:function(){re.current=!1,ie.current=!1},onCompositionStart:function(){ce.current=!0},onCompositionEnd:function(){ce.current=!1,ke(Z.current.value)}},H&&u.createElement(q,{prefixCls:o,upNode:w,downNode:x,upDisabled:ye,downDisabled:Se,onStep:Re}),u.createElement("div",{className:"".concat(Q,"-wrap")},u.createElement("input",Object(a.a)({autoComplete:"off",role:"spinbutton","aria-valuemin":m,"aria-valuemax":f,"aria-valuenow":ue.isInvalidate()?null:ue.toString(),step:O},J,{ref:Object(E.a)(Z,t),className:Q,value:he,onChange:function(e){ke(e.target.value)},disabled:S,readOnly:N}))))}));V.displayName="InputNumber";var H=V,U=n(32),z=n(96),K=n(79),Y=n(258),G=n(51),B=n(307),W=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},X=u.forwardRef((function(e,t){var n,o=u.useContext(U.b),s=o.getPrefixCls,d=o.direction,m=u.useContext(K.b),b=u.useState(!1),v=Object(i.a)(b,2),h=v[0],g=v[1],E=u.useRef(null);u.useImperativeHandle(t,(function(){return E.current}));var O=e.className,j=e.size,y=e.disabled,S=e.prefixCls,N=e.addonBefore,I=e.addonAfter,T=e.prefix,D=e.bordered,C=void 0===D||D,w=e.readOnly,x=e.status,A=e.controls,k=W(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),R=s("input-number",S),q=u.createElement(f,{className:"".concat(R,"-handler-up-inner")}),_=u.createElement(l.a,{className:"".concat(R,"-handler-down-inner")}),M="boolean"===typeof A?A:void 0;"object"===Object(c.a)(A)&&(q="undefined"===typeof A.upIcon?q:u.createElement("span",{className:"".concat(R,"-handler-up-inner")},A.upIcon),_="undefined"===typeof A.downIcon?_:u.createElement("span",{className:"".concat(R,"-handler-down-inner")},A.downIcon));var L=Object(u.useContext)(Y.b),P=L.hasFeedback,F=L.status,V=L.isFormItemInput,X=L.feedbackIcon,$=Object(B.a)(F,x),J=j||m,Q=u.useContext(z.b),Z=y||Q,ee=p()((n={},Object(r.a)(n,"".concat(R,"-lg"),"large"===J),Object(r.a)(n,"".concat(R,"-sm"),"small"===J),Object(r.a)(n,"".concat(R,"-rtl"),"rtl"===d),Object(r.a)(n,"".concat(R,"-borderless"),!C),Object(r.a)(n,"".concat(R,"-in-form-item"),V),n),Object(B.b)(R,$),O),te=u.createElement(H,Object(a.a)({ref:E,disabled:Z,className:ee,upHandler:q,downHandler:_,prefixCls:R,readOnly:w,controls:M},k));if(null!=T||P){var ne,ae=p()("".concat(R,"-affix-wrapper"),Object(B.b)("".concat(R,"-affix-wrapper"),$,P),(ne={},Object(r.a)(ne,"".concat(R,"-affix-wrapper-focused"),h),Object(r.a)(ne,"".concat(R,"-affix-wrapper-disabled"),e.disabled),Object(r.a)(ne,"".concat(R,"-affix-wrapper-sm"),"small"===m),Object(r.a)(ne,"".concat(R,"-affix-wrapper-lg"),"large"===m),Object(r.a)(ne,"".concat(R,"-affix-wrapper-rtl"),"rtl"===d),Object(r.a)(ne,"".concat(R,"-affix-wrapper-readonly"),w),Object(r.a)(ne,"".concat(R,"-affix-wrapper-borderless"),!C),Object(r.a)(ne,"".concat(O),!(N||I)&&O),ne));te=u.createElement("div",{className:ae,style:e.style,onMouseUp:function(){return E.current.focus()}},T&&u.createElement("span",{className:"".concat(R,"-prefix")},T),Object(G.a)(te,{style:null,value:e.value,onFocus:function(t){var n;g(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;g(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)}}),P&&u.createElement("span",{className:"".concat(R,"-suffix")},X))}if(null!=N||null!=I){var re,ce="".concat(R,"-group"),ie="".concat(ce,"-addon"),le=N?u.createElement("div",{className:ie},N):null,oe=I?u.createElement("div",{className:ie},I):null,ue=p()("".concat(R,"-wrapper"),ce,Object(r.a)({},"".concat(ce,"-rtl"),"rtl"===d)),se=p()("".concat(R,"-group-wrapper"),(re={},Object(r.a)(re,"".concat(R,"-group-wrapper-sm"),"small"===m),Object(r.a)(re,"".concat(R,"-group-wrapper-lg"),"large"===m),Object(r.a)(re,"".concat(R,"-group-wrapper-rtl"),"rtl"===d),re),Object(B.b)("".concat(R,"-group-wrapper"),$,P),O);te=u.createElement("div",{className:se,style:e.style},u.createElement("div",{className:ue},le&&u.createElement(Y.e,{status:!0,override:!0},le),Object(G.a)(te,{style:null,disabled:Z}),oe&&u.createElement(Y.e,{status:!0,override:!0},oe)))}return te}));t.a=X},317:function(e,t,n){"use strict";n(232);var a=n(233),r=(n(238),n(239)),c=n(39),i=n(88),l=n(0),o=n.n(l),u=n(357),s=n(254),d=(n(282),n(60)),m=n.n(d);t.a=function(e){var t=e.className,n=Object(l.useState)([]),d=Object(i.a)(n,2),f=d[0],b=d[1],p={control:function(t,n){return Object(c.a)(Object(c.a)({},t),{},{borderColor:"#d9d9d9",minHeight:e.isMulti&&(null===f||void 0===f?void 0:f.length)>2?"none":"32px",height:e.isMulti&&(null===f||void 0===f?void 0:f.length)>2?"none":"32px",minWidth:"204px",boxShadow:(n.isFocused,null)})},valueContainer:function(t,n){return Object(c.a)(Object(c.a)({},t),{},{height:e.isMulti&&(null===f||void 0===f?void 0:f.length)>2?"none":"30.297px",padding:"0 6px"})},input:function(e,t){return Object(c.a)(Object(c.a)({},e),{},{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(t,n){return Object(c.a)(Object(c.a)({},t),{},{height:e.isMulti&&(null===f||void 0===f?void 0:f.length)>2?"none":"30px"})}},v=function(){return o.a.createElement(o.a.Fragment,null,""!==(null===e||void 0===e?void 0:e.label)&&o.a.createElement(r.a.Text,null,e.isRequired&&!e.isShowText&&o.a.createElement("span",{className:"is-required"},"* "),"".concat(e.label," :")))},h=function(t){var n="";if(!e.isMulti)if(m.a.isEmpty(null===e||void 0===e?void 0:e.options))n="";else{var a=null===e||void 0===e?void 0:e.options.find((function(e){return e.value===t}));n=a||""}if(e.isMulti&&(null===t||void 0===t?void 0:t.length)>0)if(m.a.isEmpty(null===e||void 0===e?void 0:e.options))n=[];else{var r=e.options.filter((function(e){return t.map((function(e){return e.value})).includes(e.value)}));n=r||[]}return n},g=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{width:e.isTitleInline?"calc(100% - 150px)":"100%"}},o.a.createElement(s.a,{control:e.control,id:e.id,name:e.name,defaultValue:e.defaultValue,render:function(n){var a=n.field,r=a.onChange,c=a.value;a.ref,a.name;return function(n,a,r,c){var i;return b(a),e.isShowText?o.a.createElement("span",{className:"ant-typography"},o.a.createElement("strong",null,e.options&&a?null===(i=e.options.find((function(e){return e.value==a})))||void 0===i?void 0:i.label:"")):o.a.createElement(u.a,{isMulti:e.isMulti,name:"colors",options:null===e||void 0===e?void 0:e.options,className:"select-custom ".concat(t),styles:p,defaultValue:e.defaultValue,placeholder:"",isDisabled:e.isDisabled,value:h(a),onChange:function(t){e.isMulti?(n(t),e.onChange&&e.onChange(t)):(n(t.value),e.onChange&&e.onChange(t.value))}})}(r,c)}}),o.a.createElement("div",{className:"ant-form-item-explain-error"},function(){if(e.errors){var n,a,r,c=Object.keys(e.errors).includes(e.name),i=null===(n=e.errors[e.name])||void 0===n?void 0:n.message;if(t=m.a.isEmpty(i)?"".concat(e.className," basic-single"):"".concat(e.className," is-invalid"),c)return o.a.createElement("span",{className:"error-message invalid-feedback"},null===(a=e.errors[e.name])||void 0===a?void 0:a.message," ",null===e||void 0===e||null===(r=e.label)||void 0===r?void 0:r.toLowerCase())}return o.a.createElement(o.a.Fragment,null)}())))};return o.a.createElement("div",{style:{paddingBottom:"20px"}},e.isTitleInline?o.a.createElement(o.a.Fragment,null,o.a.createElement(a.a.Group,{compact:!0},o.a.createElement("div",{style:{width:"150px"}},v()),g())):o.a.createElement(o.a.Fragment,null,v(),g()))}},319:function(e,t,n){},336:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var a=n(49),r="/api/dealers",c="/api/dealers/dealersResult",i=function(e){return a.c("/api/dealers/"+e)},l=function(e){return a.c("/api/technical-requirement/"+e)},o=function(e){return a.d("/api/dealers/",{id:e.id,input:e})},u=function(e){return a.b("/api/dealers/",{data:{ids:e}})}},345:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return o}));var a=n(49),r="/api/technical-requirement",c=function(e){a.c("/api/technical-requirement/"+e)},i=function(e){return a.d("/api/technical-requirement/",{id:e.id,input:e})},l=function(e){return a.b("/api/technical-requirement/",{data:{ids:e}})},o=function(e){return a.d("/api/technical-requirement-task/assign-task",e)}},353:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CREATE:1,EDIT:2,DETAIL:3}},354:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(){return(new Date).toISOString().substring(0,10)}},360:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a=[{value:0,label:"\u0110ang th\u1ef1c hi\u1ec7n",color:"info"},{value:1,label:"Th\xe0nh C\xf4ng",color:"success"},{value:2,label:"Th\u1ea5t b\u1ea1i",color:"error"}],r=[{value:0,label:"Ch\u1edd ti\u1ebfp nh\u1eadn",color:"warning"},{value:1,label:"\u0110ang th\u1ef1c hi\u1ec7n",color:"info"},{value:2,label:"T\u1eeb ch\u1ed1i",color:"error"},{value:3,label:"Ho\xe0n th\xe0nh",color:"success"},{value:4,label:"Th\xeam m\u1edbi",color:"success"}],c={CHO_TIEP_NHAN:0,DANG_THUC_HIEN:1,TU_CHOI:2,HOAN_THANH:3,THEM_MOI:4}},361:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(441);t.a=function(e){var t=e.text,n=(e.color,e.bgColor,e.keys),a=void 0===n?"success":n,c={success:{color:"green",backgroundColor:"#b7eb8f"},error:{color:"#f55442",backgroundColor:"#ffccc7"},info:{color:"#1890ff",backgroundColor:"#91caff"},warning:{color:"#f56a00",backgroundColor:"#fccca7"}};return r.a.createElement("div",{className:"status-color-alert",style:{color:c[a].color,backgroundColor:c[a].backgroundColor}},t)}},371:function(e,t,n){},439:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return N}));n(267);var a=n(94),r=n(98),c=n(39),i=(n(235),n(237)),l=n(88),o=n(0),u=n.n(o),s=n(271),d=n(275),m=n(440),f=n(242),b=n(152),p=n(38),v=n(26),h=n(270),g=n(345),E=n(60),O=n.n(E),j={},y=v.e.ALL,S=Object(o.createContext)({}),N=function(e){var t=e.children,n=Object(o.useState)(!1),v=Object(l.a)(n,2),E=v[0],N=v[1],I=Object(o.useState)(!1),T=Object(l.a)(I,2),D=T[0],C=T[1],w=Object(o.useState)(!1),x=Object(l.a)(w,2),A=x[0],k=x[1],R=Object(o.useState)([]),q=Object(l.a)(R,2),_=q[0],M=q[1],L=Object(o.useState)([]),P=Object(l.a)(L,2),F=P[0],V=P[1],H=Object(o.useState)([]),U=Object(l.a)(H,2),z=U[0],K=U[1],Y=Object(o.useState)({}),G=Object(l.a)(Y,2),B=G[0],W=G[1],X=i.a.useForm(),$=Object(l.a)(X,1)[0],J=i.a.useForm(),Q=Object(l.a)(J,1)[0],Z=Object(o.useState)([]),ee=Object(l.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(p.d)(),re=Object(o.useState)(!1),ce=Object(l.a)(re,2),ie=ce[0],le=ce[1];Object(o.useEffect)((function(){ae(b.a(j)),ae(b.e(y))}),[ae]),Object(o.useEffect)((function(){oe()}),[]),Object(o.useEffect)((function(){ue(z,"requirementPersonId")}),[z]);var oe=function(){Object(s.d)().then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.name}}));M(t)})),Object(d.d)().then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.name}}));V(t)}))},ue=function(e,t){var n,a=$.getFieldValue(t);a?$.setFieldValue(t,a):$.setFieldValue(t,null===(n=e[0])||void 0===n?void 0:n.value)},se=function(e){ae(b.c(e))},de=function(){$.resetFields()},me=function(e){$.setFieldsValue(e)},fe={form:$,formPhanCong:Q,isOpen:E,customerOptions:_,employeeOptions:F,personContactOptions:z,isUpdate:D,isCreate:A,personSelected:B,isPhanCong:ie,supportPersonIdsOrigin:te,setPersonSelected:W,setIsOpen:N,setIsUpdate:C,handleCancel:function(){A?N(!1):C(!1)},updatePersonContactList:function(e){e?Object(m.a)(e).then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.name}}));K(t)})):K([])},handleEdit:function(){C(!0)},setIsCreate:k,handleClosePopup:function(){N(!1),de()},convertDateValue:function(e){var t=Object(c.a)(Object(c.a)({},e),{},Object(r.a)({requirementDate:Object(f.d)(e.requirementDate),plannedStartDate:Object(f.d)(e.plannedStartDate),completedDate:Object(f.d)(e.completedDate)},"requirementDate",Object(f.d)(e.requirementDate))),n=e.technicalRequirementAssignments;if(!O.a.isEmpty(n)){var a=Object(c.a)(Object(c.a)({},n),{},{plannedStartDate:Object(f.d)(n.plannedStartDate),startDate:Object(f.d)(n.startDate),dueDate:Object(f.d)(n.dueDate),closedDate:Object(f.d)(n.closedDate)});t=Object(c.a)(Object(c.a)({},t),{},{technicalRequirementAssignments:a})}return t},readGrid:se,setIsPhanCong:le,handlePhanCong:function(e){g.a(e).then((function(e){e.isSuccess?(a.b.success(h.e),se(!0)):a.b.error(h.d),le(!1)}))},resetFields:de,innitData:me,setValueDefaut:function(e){if(de(),e){var t=$.getFieldsValue();t=Object(c.a)(Object(c.a)({},t),e),me(t)}},handleDelete:function(e){g.c(e).then((function(e){e.isSuccess?(a.b.success(h.c),se(!0)):a.b.error(h.b)}))},innitDataPhanCong:function(e){ne(e.supportPersonIds),Q.setFieldsValue(e)},getDataById:function(e){g.d(e).then((function(e){if(e.isSuccess)return e.data;a.b.error("L\u1ed7i khi l\u1ea5y th\xf4ng tin")}))}};return u.a.createElement(S.Provider,{value:fe},t)}},440:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(49),r=function(e){return a.c("".concat("/api/contact-persons/","by-customer/?customerId=").concat(e))}},441:function(e,t,n){},509:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(153);var a=n(91),r=(n(300),n(299)),c=(n(247),n(248)),i=(n(267),n(94)),l=(n(250),n(251),n(296),n(302)),o=(n(228),n(227),n(39)),u=(n(235),n(237)),s=(n(88),n(238),n(239)),d=(n(232),n(233)),m=n(0),f=n.n(m),b=n(345),p=n(262),v=n(270),h=(n(439),n(242)),g=(n(371),d.a.TextArea),E=s.a.Text,O=function(e){var t=e.value,n=e.type;return"[object Date]"!==Object.prototype.toString.call(t)&&"date"!=n||(t=Object(h.b)(t)),f.a.createElement(E,{strong:!0},t)},j=function(e){var t=e.setIsOpen,n=e.isUpdate,s=e.customerOptions,m=e.form,E=e.updatePersonContactList,j=e.personContactOptions,y=e.isCreate,S=e.readGrid,N={labelCol:{span:n?24:12},wrapperCol:{span:n?24:12}},I={labelCol:{span:n?24:12},wrapperCol:{span:n?24:12}},T={customerId:[{required:n,message:"Vui l\xf2ng nh\u1eadp M\xe3 Kh\xe1ch h\xe0ng"}],requirementPersonId:[{required:n,message:"Vui l\xf2ng nh\u1eadp Ng\u01b0\u1eddi y\xeau c\u1ea7u"}],plannedStartDate:[{required:n,message:"Vui l\xf2ng nh\u1eadp Ng\xe0y th\u1ef1c hi\u1ec7n"}],requirementDate:[{required:n,message:"Vui l\xf2ng nh\u1eadp Ng\xe0y y\xeau c\u1ea7u"}]};return f.a.createElement(f.a.Fragment,null,f.a.createElement(u.a,Object.assign({id:"technical-requirement",form:m,labelAlign:"left",layout:n?"vertical":"horizontal",onFinish:function(e){if(!y){var n=m.getFieldValue("id");e=Object(o.a)(Object(o.a)({},e),{},{id:n})}b.b(e).then((function(e){e.isSuccess?(m.resetFields(),t(!1),i.b.success(v.e),S(!0)):i.b.error(v.d)}))},style:{display:"grid"}},N),f.a.createElement(a.a,{gutter:20},f.a.createElement(c.a,{lg:12},n?f.a.createElement(u.a.Item,{name:"customerId",label:"M\xe3 Kh\xe1ch h\xe0ng",rules:T.customerId},f.a.createElement(l.a,{options:s,onChange:function(e){E(e),m.setFieldValue("requirementPersonId","")},defaultValue:s[0]})):f.a.createElement(u.a.Item,{name:"customerName",label:"M\xe3 Kh\xe1ch h\xe0ng"},f.a.createElement(O,null))),f.a.createElement(c.a,{lg:12},n?f.a.createElement(u.a.Item,{name:"requirementPersonId",label:"Ng\u01b0\u1eddi y\xeau c\u1ea7u",rules:T.requirementPersonId},f.a.createElement(l.a,{options:j,onDeselect:function(e,t){console.log("onDropdownVisibleChange",e),console.log("onDropdownVisibleChange ssssssss",t)},defaultValue:j[0]})):f.a.createElement(u.a.Item,{name:"contactPersonName",label:"Ng\u01b0\u1eddi y\xeau c\u1ea7u"},f.a.createElement(O,null))),f.a.createElement(c.a,{lg:12,hidden:n},f.a.createElement(u.a.Item,{name:"customerName",label:"T\xean Kh\xe1ch h\xe0ng"},f.a.createElement(O,null))),f.a.createElement(c.a,{lg:12},n?f.a.createElement(u.a.Item,{name:"requirementDate",label:"Ng\xe0y y\xeau c\u1ea7u",rules:T.requirementDate},f.a.createElement(r.a,{placeholder:"Ch\u1ecdn ng\xe0y",format:"DD-MM-YYYY",defaultValue:Object(h.e)()})):f.a.createElement(u.a.Item,{name:"requirementDate",label:"Ng\xe0y y\xeau c\u1ea7u"},f.a.createElement(O,{type:"date"}))),f.a.createElement(c.a,{lg:12},f.a.createElement(u.a.Item,{name:"contactPersonPosition",label:"Ch\u1ee9c v\u1ee5"},n?f.a.createElement(d.a,null):f.a.createElement(O,null))),f.a.createElement(c.a,{lg:24},f.a.createElement(u.a.Item,{name:"customerAddress",label:"\u0110\u1ecba ch\u1ec9"},n?f.a.createElement(d.a,null):f.a.createElement(O,null))),f.a.createElement(c.a,{lg:12,hidden:!n},f.a.createElement(u.a.Item,{name:"type",label:"Lo\u1ea1i"},n?f.a.createElement(l.a,{options:p.d}):f.a.createElement(O,null))),f.a.createElement(c.a,{lg:24,hidden:!0},f.a.createElement(u.a.Item,Object.assign({name:"completedNote",label:"N\u1ed9i dung ho\xe0n th\xe0nh"},I),f.a.createElement(g,{rows:3,disabled:!n}))),f.a.createElement(c.a,{lg:12},f.a.createElement(u.a.Item,{name:"plannedStartDate",label:"Ng\xe0y th\u1ef1c hi\u1ec7n",rules:T.plannedStartDate},n?f.a.createElement(r.a,{placeholder:"Ch\u1ecdn ng\xe0y",format:"DD-MM-YYYY",defaultValue:Object(h.e)(),disabledDate:function(e){return e&&e<Object(h.e)()}}):f.a.createElement(O,{type:"date"}))),f.a.createElement(c.a,{lg:12},f.a.createElement(u.a.Item,{name:"customerPhone",label:"\u0110i\u1ec7n tho\u1ea1i"},n?f.a.createElement(d.a,null):f.a.createElement(O,null))),f.a.createElement(c.a,{lg:24},f.a.createElement(u.a.Item,Object.assign({name:"contentRequirement",label:"N\u1ed9i dung y\xeau c\u1ea7u"},I,{style:{whiteSpace:"pre-wrap"}}),n?f.a.createElement(g,{rows:3,disabled:!n}):f.a.createElement(O,null))))))}},510:function(e,t,n){},511:function(e,t,n){"use strict";n(232);var a=n(233),r=(n(309),n(315)),c=(n(295),n(294)),i=(n(153),n(91)),l=n(39),o=(n(228),n(227)),u=n(240),s=(n(235),n(237)),d=n(88),m=n(87),f=n(0),b=n.n(f),p=(n(579),n(60),n(246)),v=n(234),h=n(614),g=n(140),E=n(360),O=n(361),j=["hideButton","originData","rowKey","handleChangeData"],y=["editing","dataIndex","title","inputType","record","index","children","isAdding","rowLength"];t.a=function(e){var t=e.hideButton,n=e.originData,a=void 0===n?[]:n,r=(e.rowKey,e.handleChangeData),y=(Object(m.a)(e,j),s.a.useForm()),N=Object(d.a)(y,1)[0],I=Object(f.useState)(a),T=Object(d.a)(I,2),D=T[0],C=T[1],w=Object(f.useState)(""),x=Object(d.a)(w,2),A=x[0],k=(x[1],Object(f.useState)(!1)),R=Object(d.a)(k,2),q=R[0];R[1];Object(f.useEffect)((function(){C(a)}),[a]);var _=function(e){return e===A},M=[{title:"Ch\u1ecbu tr\xe1ch nhi\u1ec7m ch\xednh",dataIndex:"nameEmpMain"},{title:"H\u1ed5 tr\u1ee3",dataIndex:"empSupport",editable:!1,render:function(e,t,n){var a="";return t.empSupport&&Array.isArray(t.empSupport)&&(a=t.empSupport.map((function(e){return e.label})).toString()),b.a.createElement("p",null,a)}},{title:"N\u1ed9i dung",dataIndex:"contentAssign",editable:!1},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"state",width:"130px",render:function(e,t){return b.a.createElement(O.a,{text:E.c[t.state].label,keys:E.c[t.state].color})}},{title:"",dataIndex:"",width:"60px",render:function(e,t,n){return b.a.createElement(b.a.Fragment,null,t.isDelete&&b.a.createElement(o.a,{type:"danger",onClick:function(){return function(e,t){var n=Object(u.a)(D);n.splice(t,1),C(n),r&&r(n)}(0,n)},size:"small"},b.a.createElement(h.a,null)),t.reject&&b.a.createElement("div",null,b.a.createElement(p.a,{tip:t.reject},b.a.createElement(v.e,{icon:b.a.createElement(g.a,null)}))))}}],L=(t?M.slice(0,M.length-1):M).map((function(e){return e.editable?Object(l.a)(Object(l.a)({},e),{},{onCell:function(t,n){return{index:n,record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:_(n),isAdding:q,rowLength:D.length}}}):e}));return b.a.createElement(s.a,{className:"grid-paticipant",form:N},b.a.createElement(c.a,{size:"small",components:{body:{cell:S}},bordered:!0,dataSource:D.filter((function(e){return!e.isDeleted})),columns:L,rowClassName:"editable-row",pagination:!1,scroll:{y:200},title:function(){return b.a.createElement(i.a,{className:"grid-paticipant__title",align:"space-between",style:{marginBottom:"8px"}},"Danh s\xe1ch ng\u01b0\u1eddi nh\u1eadn y\xeau c\u1ea7u")},rowKey:"id"}))};var S=function(e){var t=e.editing,n=e.dataIndex,c=e.title,i=e.inputType,l=(e.record,e.index),o=e.children,u=e.isAdding,d=e.rowLength,f=Object(m.a)(e,y),p="number"===i?b.a.createElement(r.a,null):b.a.createElement(a.a,null);return b.a.createElement("td",f,t||u&&l===d-1?b.a.createElement(b.a.Fragment,null,b.a.createElement(s.a.Item,{name:n,style:{margin:0},rules:[{required:!0,message:"Nh\u1eadp ".concat(c,"!")}]},p)):o)}},579:function(e,t,n){}}]);
//# sourceMappingURL=20.f0dde847.chunk.js.map
(this["webpackJsonpcrm.dqc"]=this["webpackJsonpcrm.dqc"]||[]).push([[21,5],{1005:function(e,t,n){"use strict";var a=n(1),r=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},l=n(15),c=function(e,t){return r.createElement(l.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i}))};c.displayName="BookOutlined";t.a=r.forwardRef(c)},1058:function(e,t,n){"use strict";n.r(t);n(250);var a=n(251),r=(n(238),n(239)),i=(n(235),n(237)),l=n(88),c=n(0),o=n.n(c),u=n(997),s=n(142),d=n(38),m=n(62),f=n(259),p=n(255),b=n(252),E=n(26),v=n(242),g=n(152),h=n(320),T=n(234),O=n(236),j=(n(153),n(91)),y=(n(247),n(248)),S=(n(228),n(227)),x=n(39),I=(n(60),n(339)),N=n(254),C=n(338),D=n(310),A=(n(993),n(317)),w=n(336),k=n(353),L=n(354),R=n(311),_=n(360),P=(n(271),function(e){var t=e.id,n=e.isOpen,r=e.onClose,i=e.form,u=e.reloadTable,s=C.object().shape({code:Object(R.b)(C),dealersName:Object(R.b)(C),registerDate:Object(R.b)(C),expireDate:Object(R.b)(C),deviceName:Object(R.b)(C),deviceModel:Object(R.b)(C),quantity:Object(R.b)(C),price:Object(R.b)(C),totalPrice:Object(R.b)(C),status:Object(R.b)(C)}),d=Object(N.e)({mode:"onChange",resolver:Object(I.a)(s)}),m=d.control,f=d.handleSubmit,p=d.setValue,b=d.watch,E=d.formState.errors,v=Object(c.useState)(t?k.a.DETAIL:k.a.CREATE),g=Object(l.a)(v,2),h=g[0],T=g[1],P=function(e){Object(w.a)(e).then((function(e){e&&(r(),u())}))},F=function(){r()};Object(c.useEffect)((function(){!t||h!==k.a.EDIT&&h!==k.a.DETAIL?M():(Object(w.c)(t).then((function(e){Object.keys(e.data).forEach((function(t){p(t,e.data[t])}))})),T(k.a.DETAIL))}),[t]);var M=function(){p("registerDate",Object(L.a)()),p("expireDate",Object(L.a)()),p("status",0)},V=function(){var e=b("quantity"),t=b("price");p("totalPrice",e&&t?e*t:"")};return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.a,{title:function(){var e="Chi ti\u1ebft c\xf4ng ty \u0111\u0103ng k\xfd d\u1ef1 \xe1n";return h===k.a.CREATE&&(e="Th\xeam m\u1edbi c\xf4ng ty \u0111\u0103ng k\xfd d\u1ef1 \xe1n"),h===k.a.EDIT&&(e="Ch\u1ec9nh s\u1eeda m\u1edbi c\xf4ng ty \u0111\u0103ng k\xfd d\u1ef1 \xe1n"),e}(),open:n,form:i,width:1200,onCancel:F,className:"modal-dealers",footer:null},o.a.createElement("form",{className:"form-dealers",onSubmit:f((function(e){var n=Object(x.a)(Object(x.a)({},e),{},{status:Number(e.status),expireDate:Object(O.c)(e.expireDate),registerDate:Object(O.c)(e.registerDate)});t&&(n.id=t),P(n)}))},h!==k.a.CREATE&&o.a.createElement(j.a,null,o.a.createElement(y.a,{span:24,className:"btn-edit"},o.a.createElement(S.a,{type:"primary",onClick:function(){return T(h===k.a.EDIT?k.a.DETAIL:k.a.EDIT)}},h===k.a.EDIT?"Chi ti\u1ebft":"Ch\u1ec9nh s\u1eeda"))),o.a.createElement(j.a,null,o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"M\xe3 Dealers",control:m,type:"text",name:"code",isRequired:!0,errors:E})),o.a.createElement(y.a,{className:"col-input",span:16},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"C\xf4ng ty \u0111\u0103ng k\xfd",control:m,type:"text",name:"dealersName",isRequired:!0,errors:E})),o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"Ng\xe0y \u0111\u0103ng k\xfd",control:m,type:"date",name:"registerDate",isRequired:!0,errors:E})),o.a.createElement(y.a,{className:"col-input",span:16},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"D\u1ef1 \xe1n",control:m,type:"text",name:"projectName",errors:E})),o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"Ng\xe0y h\u1ebft h\u1ea1n",control:m,type:"date",name:"expireDate",isRequired:!0,errors:E})),o.a.createElement(y.a,{className:"col-input",span:16},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"Kh\xe1ch h\xe0ng s\u1eed d\u1ee5ng",control:m,type:"text",name:"customerName",errors:E}))),o.a.createElement(j.a,null,o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"Ng\xe2n s\xe1ch",control:m,type:"text",name:"budget",errors:E})),o.a.createElement(y.a,{className:"col-input",span:16},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"T\xean thi\u1ebft b\u1ecb",control:m,type:"text",name:"deviceName",isRequired:!0,errors:E}))),o.a.createElement(j.a,null,o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"Model",control:m,type:"text",name:"deviceModel",isRequired:!0,errors:E})),o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"S\u1ed1 l\u01b0\u1ee3ng",control:m,type:"number",name:"quantity",isRequired:!0,onChange:function(e){return V()},errors:E})),o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"\u0110\u01a1n gi\xe1 (Ch\u01b0a VAT)",control:m,type:"text",name:"price",onChange:function(e){return V()},isRequired:!0,errors:E,formatInput:!0})),o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"Th\xe0nh ti\u1ec1n",control:m,type:"text",name:"totalPrice",isRequired:!0,disabled:!0,errors:E,formatInput:!0})),o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(A.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"K\u1ebft qu\u1ea3",control:m,name:"status",options:_.b,isRequired:!0,errors:E}))),o.a.createElement(j.a,null,o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"Gi\xe1 \u0111\u1ed1i th\u1ee7 (ch\u01b0a VAT)",control:m,type:"text",name:"competitorPrice",errors:E,formatInput:!0})),o.a.createElement(y.a,{className:"col-input",span:16},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"Th\xf4ng tin kh\xe1c",control:m,type:"text",name:"otherInfo",errors:E}))),o.a.createElement(j.a,null,o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"STT",control:m,type:"text",name:"sequence",errors:E})),o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"\u0110\u1ed1i th\u1ee7 ch\xednh",control:m,type:"text",name:"competitorDeviceName",errors:E})),o.a.createElement(y.a,{className:"col-input",span:8},o.a.createElement(D.a,{isTitleInline:h===k.a.DETAIL,isShowText:h===k.a.DETAIL,label:"C\xf4ng ty ch\xe0o gi\xe1",control:m,type:"text",name:"competitorName",errors:E}))),o.a.createElement("div",{className:"my-modal-footer"},o.a.createElement(S.a,{key:"back",onClick:F},"H\u1ee7y"),h!==k.a.DETAIL&&o.a.createElement(S.a,{key:"submit",type:"primary",htmlType:"submit"},"L\u01b0u")))))}),F=n(361),M=n(1005),V=n(246),q=n(249),z=n(262);t.default=function(){var e=Object(m.g)(),t=Object(c.useState)(!1),n=Object(l.a)(t,2),j=n[0],y=(n[1],Object(d.d)()),S=Object(c.useState)({isOpen:!1}),x=Object(l.a)(S,2),I=x[0],N=x[1],C=Object(c.useState)(!1),D=Object(l.a)(C,2),A=D[0],k=D[1],L=Object(c.useState)(""),R=Object(l.a)(L,2),H=R[0],G=R[1],Y=i.a.useForm(),K=Object(l.a)(Y,1)[0],B=function(e){y(g.c(e))},X=[{title:"Ng\xe0y \u0111\u0103ng k\xfd",dataIndex:"registerDate",render:function(e,t){return o.a.createElement(r.a.Text,null,(null===t||void 0===t?void 0:t.registerDate)?Object(v.b)(null===t||void 0===t?void 0:t.registerDate):E.a)}},{title:"Ng\xe0y h\u1ebft h\u1ea1n",dataIndex:"expireDate",render:function(e,t){return o.a.createElement(r.a.Text,{className:t.isWarning?"is-warning-text":""},(null===t||void 0===t?void 0:t.expireDate)?Object(v.b)(null===t||void 0===t?void 0:t.expireDate):E.a)}},{title:"T\xean c\xf4ng ty \u0111\u0103ng k\xfd d\u1ef1 \xe1n",dataIndex:"dealersName"},{title:"Kh\xe1ch h\xe0ng s\u1eed d\u1ee5ng",dataIndex:"customerName"},{title:"T\xean thi\u1ebft b\u1ecb",dataIndex:"deviceName"},{title:"Model",dataIndex:"deviceModel"},{title:"S\u1ed1 l\u01b0\u1ee3ng",dataIndex:"quantity"},{title:"\u0110\u01a1n gi\xe1",dataIndex:"price",align:"right",render:function(e,t){return o.a.createElement(r.a.Text,null,(null===t||void 0===t?void 0:t.price)?Object(O.a)(null===t||void 0===t?void 0:t.price):E.a)}},{title:"Th\xe0nh ti\u1ec1n (Ch\u01b0a VAT)",dataIndex:"totalPrice",align:"right",render:function(e,t){return o.a.createElement(r.a.Text,null,(null===t||void 0===t?void 0:t.totalPrice)?Object(O.a)(null===t||void 0===t?void 0:t.totalPrice):E.a)}},{title:"K\u1ebft qu\u1ea3",dataIndex:"status",render:function(e,t){return o.a.createElement(F.a,{text:_.b[t.status].label,keys:_.b[t.status].color})}},{title:"",dataIndex:"action",render:function(t,n){return o.a.createElement("div",{className:"wrapper-button"},o.a.createElement(V.a,{tip:"Xem chi ti\u1ebft"},o.a.createElement(T.e,{icon:o.a.createElement(u.a,null),onClick:function(){G(n.id),k(!0)}})),n.isCreateContract&&o.a.createElement(V.a,{tip:"T\u1ea1o h\u1ee3p \u0111\u1ed3ng"},o.a.createElement(T.e,{onClick:function(){return t=n.id,void e.push("/tao-hop-dong?idDealers=".concat(t));var t},PrimaryButton:!0,icon:o.a.createElement(M.a,null)})))}}];return o.a.createElement(o.a.Fragment,null,Object(q.a)(z.a.DS_DANG_KY_DU_AN_XEM)&&o.a.createElement("div",null,o.a.createElement("div",{id:"dealers-page"},o.a.createElement(p.a,{title:"DANH S\xc1CH C\xd4NG TY \u0110\u0102NG K\xdd D\u1ef0 \xc1N",actions:"default",onCreate:function(){G(""),k(!0)},handleDelete:function(e){a.a.confirm({title:"X\xe1c Nh\u1eadn",icon:o.a.createElement(s.a,null),content:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a d\xf2ng d\u1eef li\u1ec7u \u0111\xe3 ch\u1ecdn?",okText:"X\xe1c Nh\u1eadn",cancelText:"H\u1ee7y",onOk:function(){Object(w.b)(e).then((function(e){B(!0)}))},confirmLoading:j})},isShowActionAdd:Object(q.a)(z.a.DS_DANG_KY_DU_AN_THEM)}),o.a.createElement(h.a,{isOpen:I.isOpen,title:"L\u1ecdc h\xf3a \u0111\u01a1n",handleClosed:function(){return N({isOpen:!1})},onApplyFilter:function(e){y(g.b(e))}}),o.a.createElement("div",{className:"main__application"},o.a.createElement(b.a,null,o.a.createElement(f.a,{scroll:{x:1700},urlEndpoint:w.e,columns:X,summaryNumberCol:9}))),A&&o.a.createElement(P,{id:H,isOpen:A,reloadTable:function(){return B(!0)},form:K,onClose:function(){G(""),k(!1)}}))))}},229:function(e,t,n){"use strict";n(228);var a=n(227),r=n(0),i=n.n(r);t.a=function(e){return i.a.createElement(a.a,Object.assign({type:"primary",size:"small"},e))}},234:function(e,t,n){"use strict";n.d(t,"e",(function(){return a.a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(229),r=(n(228),n(227)),i=n(0),l=n.n(i);var c=function(e){return l.a.createElement(r.a,Object.assign({danger:!0,size:"small"},e))};var o=function(e){return l.a.createElement(r.a,Object.assign({type:"default",size:"small"},e))},u=n(87);n(728);n(729);var s=n(614),d=["title"];var m=function(e){var t=e.title,n=void 0===t?"":t,a=Object(u.a)(e,d);return l.a.createElement(c,Object.assign({icon:l.a.createElement(s.a,null)},a),n)},f=n(1e3),p=["title"];var b=function(e){var t=e.title,n=void 0===t?"":t,a=Object(u.a)(e,p);return l.a.createElement(o,Object.assign({icon:l.a.createElement(f.a,null)},a),n)};n(730);n(155),n(997),n(246)},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n(154),r=n.n(a),i=function(e){return!Number.isNaN(e)&&e&&null!==e||(e=0),new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e).replaceAll("\u20ab","")},l=function(e){var t=e.replaceAll(".","");return Number(t)},c=function(e){var t=r()(e);return r.a.isMoment(t)?null===t||void 0===t?void 0:t.format("YYYY-MM-DD"):t}},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(82);var r=n(102);function i(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},242:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(154),r=n.n(a),i=function(e){var t=r()(e);return e&&t.isValid()?t:""},l=function(e){return e?r()(e).format("MM/DD/YYYY"):""},c=function(e){return e?r()(e).format("DD/MM/YYYY"):""},o=function(){return r()()},u=function(e){return e?new Date(e).toISOString().split("T")[0]:null}},243:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(61),r=n(244),i={idSelections:[],detailSelections:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return Object(a.a)(e,(function(e){switch(t.type){case r.b:e.idSelections=t.payload;break;case r.a:e.detailSelections=t.payload}}))}},244:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="SET_ITEM_ID_SELECTIONS",r="SET_ITEM_DETAIL_SELECTIONS"},245:function(e,t,n){"use strict";e.exports=function(e,t,n,a,r,i,l,c){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,r,i,l,c],s=0;(o=new Error(t.replace(/%s/g,(function(){return u[s++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},246:function(e,t,n){"use strict";n(277);var a=n(278),r=(n(276),n(273)),i=n(0),l=n.n(i);t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(a.b,{wrap:!0},l.a.createElement(r.a,{title:null===e||void 0===e?void 0:e.tip,color:"blue",key:"blue"},e.children)))}},249:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e.map((function(e){return{value:e.id,label:e.name}}))},r=function(e){if(e){var t=JSON.parse(localStorage.getItem("userInfo")).permissions;return!!(t&&t.length>0)&&t.includes(e)}}},252:function(e,t,n){"use strict";var a=n(87),r=n(0),i=n.n(r),l=n(13),c=n.n(l),o=(n(257),["className","children"]);t.a=function(e){var t=e.className,n=e.children,r=Object(a.a)(e,o);return i.a.createElement("div",Object.assign({className:c()("section-wrapper",t)},r),n)}},255:function(e,t,n){"use strict";n(153);var a=n(91),r=(n(228),n(227)),i=(n(247),n(248)),l=(n(238),n(239)),c=(n(232),n(233)),o=n(0),u=n.n(o),s=n(732),d=n(728),m=n(997),f=n(38),p=n(234),b=n(291),E=n(243),v=function(e){return e&&e.tableView||E.b},g=n(152),h=(n(256),c.a.Search);t.a=function(e){var t=e.title,n=void 0===t?"":t,c=e.actions,o=void 0===c?"default":c,E=e.onCreate,T=e.handleDelete,O=e.labelPrimaryBtn,j=void 0===O?"":O,y=e.onPressPrimaryBtn,S=void 0===y?function(){}:y,x=e.isFilter,I=void 0!==x&&x,N=e.onFilter,C=e.isHideAction,D=void 0!==C&&C,A=e.isShowActionDelete,w=void 0===A||A,k=e.isShowActionAdd,L=void 0===k||k,R=Object(f.d)(),_=Object(f.e)(Object(b.a)(v,(function(e){return e.idSelections})));return u.a.createElement("div",{className:"header-page"},u.a.createElement(a.a,{className:"wrapper",justify:"space-around",align:"center"},u.a.createElement(i.a,{className:"header-page__title"},u.a.createElement(l.a.Title,{level:3},n)),u.a.createElement(i.a,{flex:1,style:{textAlign:"right"}},"default"===o?u.a.createElement(a.a,{style:{display:"flex",flexWrap:"nowrap",gap:"16px",justifyContent:"end"}},u.a.createElement(h,{className:"header-page__search",placeholder:"T\xecm ki\u1ebfm...",onSearch:function(e){R(Object(g.d)(e))},enterButton:!0}),I&&u.a.createElement(r.a,{type:"primary",onClick:function(){return N()},icon:u.a.createElement(s.a,null)}),!1===D&&u.a.createElement(u.a.Fragment,null,L&&u.a.createElement(r.a,{type:"primary",onClick:function(){return E()},icon:u.a.createElement(d.a,null)},"Th\xeam m\u1edbi"),!!j&&u.a.createElement(p.e,{size:"medium",icon:u.a.createElement(m.a,null),onClick:S},j),w&&u.a.createElement(p.a,{size:"medium",onClick:function(){return T&&T(_)},disabled:!_.length},"X\xf3a"))):"function"===typeof o?o():null)))}},256:function(e,t,n){},257:function(e,t,n){},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(295);var a=n(294),r=n(88),i=n(87),l=n(0),c=n.n(l),o=n(38),u=n(13),s=n.n(u),d=n(60),m=n(49),f=n(152),p=n(243),b=n(244);function E(e){return{type:b.b,payload:e}}function v(e){return{type:b.a,payload:e}}var g=n(261),h=n(39),T="SET_STATE",O="SET_DATA",j="SET_PAGE",y="SET_TOTAL_PAGE",S="SET_TOTAL_ELEMENT",x="SET_LOADING",I="SET_PAGESIZE",N="SET_SORT",C="SET_SEARCH_TEXT",D={data:[],currentPage:1,totalPage:1,totalElement:0,pageSize:10,loading:!1,searchText:"",sort:[{field:"",order:""}]},A=c.a.createContext({state:D,setState:function(){return null},setPage:function(){return null},setTotalPage:function(){return null},setData:function(){return null},setTotalElement:function(){return null},setLoading:function(){return null},setPageSize:function(){return null}}),w=A.Provider,k=function(e){var t=e.children,n=e.initState,a=Object(l.useReducer)((function(e,t){switch(t.type){case T:return Object(h.a)(Object(h.a)({},e),t.payload);case O:return Object(h.a)(Object(h.a)({},e),{},{data:t.payload.data});case j:return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.payload.currentPage});case y:return Object(h.a)(Object(h.a)({},e),{},{totalPage:t.payload.totalPage});case S:return Object(h.a)(Object(h.a)({},e),{},{totalElement:t.payload.totalElement});case x:return Object(h.a)(Object(h.a)({},e),{},{loading:t.payload.loading});case I:return Object(h.a)(Object(h.a)({},e),{},{pageSize:t.payload.pageSize});case C:return Object(h.a)(Object(h.a)({},e),{},{searchText:t.payload.searchText});case N:return Object(h.a)(Object(h.a)({},e),{},{sort:t.payload.sort});default:return Object(h.a)({},e)}}),Object(h.a)(Object(h.a)({},D),n)),i=Object(r.a)(a,2),o=i[0],u=i[1],s=Object(l.useCallback)((function(e){u({type:T,payload:e})}),[]),d=Object(l.useCallback)((function(e){u({type:j,payload:{currentPage:e}})}),[]),m=Object(l.useCallback)((function(e){u({type:O,payload:{data:e}})}),[]),f=Object(l.useCallback)((function(e){u({type:y,payload:{totalPage:e}})}),[]),p=Object(l.useCallback)((function(e){u({type:x,payload:{loading:e}})}),[]),b=Object(l.useCallback)((function(e){u({type:S,payload:{totalElement:e}})}),[]),E=Object(l.useCallback)((function(e){u({type:I,payload:{pageSize:e}})}),[]),v=Object(l.useCallback)((function(e){u({type:C,payload:{searchText:e}})}),[]),g=Object(l.useCallback)((function(e){u({type:N,payload:{sort:e}})}),[]);return c.a.createElement(w,{value:{state:o,setState:s,setPage:d,setTotalPage:f,setData:m,setLoading:p,setTotalElement:b,setPageSize:E,setSearchText:v,setSort:g}},t)};n(268);var L=n(236),R=["className","columns","data","expandedRowRender","handleGetDetailSelections","handleGetSelections","hasRowSelected","isHidePagination","rowKey","shouldSaveToStore","shouldShowTotal","urlEndpoint","pageSize"],_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=function(n){return c.a.createElement(k,{initState:t},c.a.createElement(e,n))};return n}((function(e){var t=e.className,n=void 0===t?"":t,u=e.columns,b=e.data,h=e.expandedRowRender,T=e.handleGetDetailSelections,O=e.handleGetSelections,j=e.hasRowSelected,y=void 0===j||j,S=e.isHidePagination,x=e.rowKey,I=void 0===x?"id":x,N=e.shouldSaveToStore,C=void 0===N||N,D=e.shouldShowTotal,w=void 0===D||D,k=e.urlEndpoint,_=e.pageSize,P=Object(i.a)(e,R);Object(g.a)({key:"tableView",reducer:p.a});var F=Object(o.d)(),M=Object(o.e)((function(e){return e.global.searchText})),V=Object(o.e)((function(e){return e.global.refreshGrid})),q=Object(o.e)((function(e){return e.global.filters})),z=Object(l.useState)([]),H=Object(r.a)(z,2),G=H[0],Y=H[1],K=Object(l.useContext)(A),B=K.state,X=K.setState,J=K.setLoading,U=K.setData,W=Object(l.useState)(""),Z=Object(r.a)(W,2),$=Z[0],Q=Z[1],ee=function(e){var t=[];return e.map((function(e){(null===e||void 0===e?void 0:e.field)&&t.push({fieldName:e.field,isAscending:"ascend"===e.order})})),t},te=Object(l.useCallback)((function(){if(k){J(!0);var e={pageSize:B.pageSize,pageIndex:B.currentPage-1,searchText:B.searchText,sort:ee(B.sort),fieldId:null===q||void 0===q?void 0:q.fields,filter:[]};m.c(k,e).then((function(t){if(t&&(null===t||void 0===t?void 0:t.isSuccess)){var n,a=(null===t||void 0===t?void 0:t.data)||{};X({data:null===a||void 0===a?void 0:a.records,currentPage:(null===e||void 0===e?void 0:e.pageIndex)||1,totalElement:(null===a||void 0===a?void 0:a.total)||0,loading:!1}),Q(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.totalAmount)}else X({data:[],totalElement:0})})).catch((function(e){console.log("err: ",e)})).finally((function(){J(!1)}))}}),[B.pageSize,B.sort,B.searchText,k,null===q||void 0===q?void 0:q.fields]);Object(l.useEffect)((function(){te()}),[F,te]),Object(l.useEffect)((function(){console.log("filtersfilters",q)}),[q]),Object(l.useEffect)((function(){k&&X({searchText:M,currentPage:1})}),[M,X,k]),Object(l.useEffect)((function(){return V&&(te(),F(f.c(!1))),function(){Y([]),F(E([])),F(v([]))}}),[V]),Object(l.useEffect)((function(){b&&Object(d.isArray)(b)&&U(b)}),[JSON.stringify(b)]);var ne={selectedRowKeys:G,onChange:function(e,t){Y(e),O&&O(e),T&&T(t),C&&(F(E(e)),F(v(t)))}};return c.a.createElement("div",{className:s()("grid",n&&n)},c.a.createElement(a.a,Object.assign({columns:u,dataSource:B.data,onChange:function(e,t,n){X({currentPage:e.current,pageSize:e.pageSize,sort:n?[n]:[]})},bordered:!0,pagination:!S&&{defaultPageSize:_||B.pageSize,showSizeChanger:!0,pageSizeOptions:["5","10","20","50"],total:B.totalElement,showTotal:w?function(){return"C\xf3 ".concat(B.totalElement," d\u1eef li\u1ec7u")}:null},loading:B.loading,expandable:{expandedRowRender:h},rowKey:I,rowSelection:y?ne:null,scroll:{x:"100%"}},P,{summary:B.data.length>0&&P.summaryNumberCol?function(){return c.a.createElement(a.a.Summary.Row,null,u.map((function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(a.a.Summary.Cell,null,t===(null===P||void 0===P?void 0:P.summaryNumberCol)?Object(L.a)($):""))})),c.a.createElement(a.a.Summary.Cell,null))}:function(){}})))}))},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(60),r=n(245),i=n.n(r);function l(e){var t={dispatch:a.isFunction,subscribe:a.isFunction,getState:a.isFunction,replaceReducer:a.isFunction,runSaga:a.isFunction,injectedReducers:a.isObject,injectedSagas:a.isObject};i()(Object(a.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}},261:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(89),n(90),n(92),n(93);var a=n(0),r=n.n(a),i=(n(50),n(38)),l=n(245),c=n.n(l),o=n(60),u=n(260),s=n(97);function d(e,t){return function(n,a){t||Object(u.a)(e),c()(Object(o.isString)(n)&&!Object(o.isEmpty)(n)&&Object(o.isFunction)(a),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===a||(e.injectedReducers[n]=a,e.replaceReducer(Object(s.a)(e.injectedReducers)))}}function m(e){return Object(u.a)(e),{injectReducer:d(e,!0)}}var f=function(e){var t=e.key,n=e.reducer,a=r.a.useContext(i.b);r.a.useEffect((function(){m(a.store).injectReducer(t,n)}),[a.store,t,n])}},268:function(e,t,n){},271:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u}));var a=n(49),r="/api/customers",i=function(e){return a.c("/api/customers/"+e)},l=function(e){return a.d("/api/customers/",{id:e.id,input:e})},c=function(e){return a.d("/api/customers/",e)},o=function(e){return a.b("/api/customers/",{data:{ids:e}})},u=function(){return a.c("/api/customers/dropdown")}},282:function(e,t,n){},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(49),r=function(){return a.c("/api/fields/dropdown","")}},310:function(e,t,n){"use strict";n(235);var a=n(237),r=(n(300),n(299)),i=(n(238),n(239)),l=(n(232),n(233)),c=n(0),o=n(254),u=(n(282),n(60)),s=n.n(u),d=n(350),m=n(154),f=n.n(m),p=n(242),b=n(236),E=l.a.TextArea;t.a=function(e){var t=e.className,n=function(){return c.createElement(c.Fragment,null,""!==(null===e||void 0===e?void 0:e.label)&&c.createElement(i.a.Text,null,e.isRequired&&!e.isShowText&&c.createElement("span",{className:"is-required"},"* "),"".concat(e.label," :")))},u=function(n){return e.isShowText?c.createElement("p",{className:"text-mode-detail"},(a=null===n||void 0===n?void 0:n.value)?e.formatInput?Object(b.a)(a):"date"===e.type?Object(p.b)(a):a:""):e.formatInput?c.createElement(d.a,Object.assign({customInput:l.a,className:"".concat(t)},e,{prefix:e.prefix,defaultValue:n.value,thousandSeparator:".",decimalSeparator:",",value:n.value,onValueChange:function(e){n.onChange(e.value)}})):"textarea"===e.type?c.createElement(E,Object.assign({disabled:e.disabled,label:e.label,type:e.type,className:t},e,n,{defaultValue:n.value,value:n.value,onChange:function(t){n.onChange(t.target.value),void 0!==(null===e||void 0===e?void 0:e.onChange)&&e.onChange(t)}})):"date"===e.type?c.createElement(r.a,Object.assign({format:p.b,disabled:e.disabled,className:"input-custom ".concat(t),placeholder:""},e,n,{defaultValue:Object(p.e)(),value:""!==n.value?f()(n.value):Object(p.e)(),onChange:function(t,a){n.onChange(t),void 0!==(null===e||void 0===e?void 0:e.onChange)&&e.onChange(t)}})):c.createElement(l.a,Object.assign({disabled:e.disabled,label:e.label,type:e.type,className:"input-custom ".concat(t)},e,n,{defaultValue:n.value,value:n.value,onChange:function(t){n.onChange(t.target.value),void 0!==(null===e||void 0===e?void 0:e.onChange)&&e.onChange(t)}}));var a},m=function(){return c.createElement(c.Fragment,null,c.createElement(a.a.Item,{style:{width:e.isTitleInline?"calc(100% - 150px)":"100%"}},c.createElement(o.a,{id:e.id,name:e.name,defaultValue:e.defaultValue,control:e.control,render:function(e){var t=e.field;return u(t)}}),c.createElement("div",{className:"ant-form-item-explain-error"},function(){if(e.errors){var n,a,r,i=Object.keys(e.errors).includes(e.name),l=null===(n=e.errors[e.name])||void 0===n?void 0:n.message;if(t=s.a.isEmpty(l)?e.className:"".concat(e.className," is-invalid"),i)return c.createElement("span",{className:"error-message invalid-feedback"},null===(a=e.errors[e.name])||void 0===a?void 0:a.message," ",null===e||void 0===e||null===(r=e.label)||void 0===r?void 0:r.toLowerCase())}return c.createElement(c.Fragment,null)}())))};return c.createElement(c.Fragment,null,e.isTitleInline?c.createElement(c.Fragment,null,c.createElement(l.a.Group,{compact:!0},c.createElement("div",{style:{width:"150px"}},n()),m())):c.createElement(c.Fragment,null,n(),m()))}},311:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e.string().required("Vui l\xf2ng nh\u1eadp")},r=function(e){return e.string().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7").required("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}},317:function(e,t,n){"use strict";n(232);var a=n(233),r=(n(238),n(239)),i=n(39),l=n(88),c=n(0),o=n.n(c),u=n(357),s=n(254),d=(n(282),n(60)),m=n.n(d);t.a=function(e){var t=e.className,n=Object(c.useState)([]),d=Object(l.a)(n,2),f=d[0],p=d[1],b={control:function(t,n){return Object(i.a)(Object(i.a)({},t),{},{borderColor:"#d9d9d9",minHeight:e.isMulti&&(null===f||void 0===f?void 0:f.length)>2?"none":"32px",height:e.isMulti&&(null===f||void 0===f?void 0:f.length)>2?"none":"32px",minWidth:"204px",boxShadow:(n.isFocused,null)})},valueContainer:function(t,n){return Object(i.a)(Object(i.a)({},t),{},{height:e.isMulti&&(null===f||void 0===f?void 0:f.length)>2?"none":"30.297px",padding:"0 6px"})},input:function(e,t){return Object(i.a)(Object(i.a)({},e),{},{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(t,n){return Object(i.a)(Object(i.a)({},t),{},{height:e.isMulti&&(null===f||void 0===f?void 0:f.length)>2?"none":"30px"})}},E=function(){return o.a.createElement(o.a.Fragment,null,""!==(null===e||void 0===e?void 0:e.label)&&o.a.createElement(r.a.Text,null,e.isRequired&&!e.isShowText&&o.a.createElement("span",{className:"is-required"},"* "),"".concat(e.label," :")))},v=function(t){var n="";if(!e.isMulti)if(m.a.isEmpty(null===e||void 0===e?void 0:e.options))n="";else{var a=null===e||void 0===e?void 0:e.options.find((function(e){return e.value===t}));n=a||""}if(e.isMulti&&(null===t||void 0===t?void 0:t.length)>0)if(m.a.isEmpty(null===e||void 0===e?void 0:e.options))n=[];else{var r=e.options.filter((function(e){return t.map((function(e){return e.value})).includes(e.value)}));n=r||[]}return n},g=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{width:e.isTitleInline?"calc(100% - 150px)":"100%"}},o.a.createElement(s.a,{control:e.control,id:e.id,name:e.name,defaultValue:e.defaultValue,render:function(n){var a=n.field,r=a.onChange,i=a.value;a.ref,a.name;return function(n,a,r,i){var l;return p(a),e.isShowText?o.a.createElement("span",{className:"ant-typography"},o.a.createElement("strong",null,e.options&&a?null===(l=e.options.find((function(e){return e.value==a})))||void 0===l?void 0:l.label:"")):o.a.createElement(u.a,{isMulti:e.isMulti,name:"colors",options:null===e||void 0===e?void 0:e.options,className:"select-custom ".concat(t),styles:b,defaultValue:e.defaultValue,placeholder:"",isDisabled:e.isDisabled,value:v(a),onChange:function(t){e.isMulti?(n(t),e.onChange&&e.onChange(t)):(n(t.value),e.onChange&&e.onChange(t.value))}})}(r,i)}}),o.a.createElement("div",{className:"ant-form-item-explain-error"},function(){if(e.errors){var n,a,r,i=Object.keys(e.errors).includes(e.name),l=null===(n=e.errors[e.name])||void 0===n?void 0:n.message;if(t=m.a.isEmpty(l)?"".concat(e.className," basic-single"):"".concat(e.className," is-invalid"),i)return o.a.createElement("span",{className:"error-message invalid-feedback"},null===(a=e.errors[e.name])||void 0===a?void 0:a.message," ",null===e||void 0===e||null===(r=e.label)||void 0===r?void 0:r.toLowerCase())}return o.a.createElement(o.a.Fragment,null)}())))};return o.a.createElement("div",{style:{paddingBottom:"20px"}},e.isTitleInline?o.a.createElement(o.a.Fragment,null,o.a.createElement(a.a.Group,{compact:!0},o.a.createElement("div",{style:{width:"150px"}},E()),g())):o.a.createElement(o.a.Fragment,null,E(),g()))}},320:function(e,t,n){"use strict";n(250);var a=n(251),r=(n(228),n(227)),i=(n(153),n(91)),l=(n(247),n(248)),c=(n(296),n(302)),o=(n(235),n(237)),u=n(88),s=n(0),d=n.n(s),m=n(303);t.a=function(e){var t=e.isOpen,n=e.handleClosed,f=e.title,p=e.onApplyFilter,b=o.a.useForm(),E=Object(u.a)(b,1)[0],v=Object(s.useState)([]),g=Object(u.a)(v,2),h=g[0],T=g[1],O=function(e){p(e),n()};Object(s.useEffect)((function(){j()}),[]);var j=function(){Object(m.a)().then((function(e){T((null===e||void 0===e?void 0:e.data)||[])}))};return d.a.createElement(a.a,{title:f,open:t,onCancel:n,width:500,footer:[d.a.createElement(r.a,{type:"link",form:"filterForm",key:"back",onClick:function(){E.resetFields()}},"B\u1ed9 l\u1ecdc m\u1eb7c \u0111\u1ecbnh"),d.a.createElement(r.a,{form:"filterForm",key:"submit",type:"primary",htmlType:"submit"},"L\u1ecdc")]},d.a.createElement(o.a,{id:"filterForm",labelCol:{span:14},wrapperCol:{span:23},form:E,layout:"vertical",onFinish:O},d.a.createElement(i.a,null,d.a.createElement(l.a,{span:24},d.a.createElement(i.a,null,d.a.createElement(l.a,{span:24},d.a.createElement(o.a.Item,{label:"L\u0129nh V\u1ef1c",name:"fields"},d.a.createElement(c.a,null,h&&h.map((function(e){return d.a.createElement(c.a.Option,{key:e.id,value:e.id},e.name)}))))))))))}},336:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var a=n(49),r="/api/dealers",i="/api/dealers/dealersResult",l=function(e){return a.c("/api/dealers/"+e)},c=function(e){return a.c("/api/technical-requirement/"+e)},o=function(e){return a.d("/api/dealers/",{id:e.id,input:e})},u=function(e){return a.b("/api/dealers/",{data:{ids:e}})}},353:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CREATE:1,EDIT:2,DETAIL:3}},354:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(){return(new Date).toISOString().substring(0,10)}},360:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a=[{value:0,label:"\u0110ang th\u1ef1c hi\u1ec7n",color:"info"},{value:1,label:"Th\xe0nh C\xf4ng",color:"success"},{value:2,label:"Th\u1ea5t b\u1ea1i",color:"error"}],r=[{value:0,label:"Ch\u1edd ti\u1ebfp nh\u1eadn",color:"warning"},{value:1,label:"\u0110ang th\u1ef1c hi\u1ec7n",color:"info"},{value:2,label:"T\u1eeb ch\u1ed1i",color:"error"},{value:3,label:"Ho\xe0n th\xe0nh",color:"success"},{value:4,label:"Th\xeam m\u1edbi",color:"success"}],i={CHO_TIEP_NHAN:0,DANG_THUC_HIEN:1,TU_CHOI:2,HOAN_THANH:3,THEM_MOI:4}},361:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(441);t.a=function(e){var t=e.text,n=(e.color,e.bgColor,e.keys),a=void 0===n?"success":n,i={success:{color:"green",backgroundColor:"#b7eb8f"},error:{color:"#f55442",backgroundColor:"#ffccc7"},info:{color:"#1890ff",backgroundColor:"#91caff"},warning:{color:"#f56a00",backgroundColor:"#fccca7"}};return r.a.createElement("div",{className:"status-color-alert",style:{color:i[a].color,backgroundColor:i[a].backgroundColor}},t)}},441:function(e,t,n){},993:function(e,t,n){}}]);
//# sourceMappingURL=21.f535fd83.chunk.js.map